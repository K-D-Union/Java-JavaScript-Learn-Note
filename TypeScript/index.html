<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>TypeScript | K-D-Union</title>
    <meta name="description" content="Welcome to K-D-Union&#39;s World">
    <meta name="generator" content="VuePress 1.3.1">
    <link rel="icon" href="/Java-JavaScript-Learn-Note/imgs/icon3.svg">
    
    <link rel="preload" href="/Java-JavaScript-Learn-Note/assets/css/0.styles.aeca0e93.css" as="style"><link rel="preload" href="/Java-JavaScript-Learn-Note/assets/js/app.e325ccab.js" as="script"><link rel="preload" href="/Java-JavaScript-Learn-Note/assets/js/2.917e6a38.js" as="script"><link rel="preload" href="/Java-JavaScript-Learn-Note/assets/js/13.86adced6.js" as="script"><link rel="prefetch" href="/Java-JavaScript-Learn-Note/assets/js/10.c7f69dd2.js"><link rel="prefetch" href="/Java-JavaScript-Learn-Note/assets/js/11.809079a5.js"><link rel="prefetch" href="/Java-JavaScript-Learn-Note/assets/js/12.415504f0.js"><link rel="prefetch" href="/Java-JavaScript-Learn-Note/assets/js/14.0477aa1b.js"><link rel="prefetch" href="/Java-JavaScript-Learn-Note/assets/js/3.5c20f74b.js"><link rel="prefetch" href="/Java-JavaScript-Learn-Note/assets/js/4.c09b0982.js"><link rel="prefetch" href="/Java-JavaScript-Learn-Note/assets/js/5.5fa745d9.js"><link rel="prefetch" href="/Java-JavaScript-Learn-Note/assets/js/6.a2bc2a8b.js"><link rel="prefetch" href="/Java-JavaScript-Learn-Note/assets/js/7.2525631d.js"><link rel="prefetch" href="/Java-JavaScript-Learn-Note/assets/js/8.5729813a.js"><link rel="prefetch" href="/Java-JavaScript-Learn-Note/assets/js/9.a9798cc8.js">
    <link rel="stylesheet" href="/Java-JavaScript-Learn-Note/assets/css/0.styles.aeca0e93.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/Java-JavaScript-Learn-Note/" class="home-link router-link-active"><!----> <span class="site-name">K-D-Union</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/Java-JavaScript-Learn-Note/" class="nav-link">
  首页
</a></div><div class="nav-item"><a href="/Java-JavaScript-Learn-Note/JavaIndex/" class="nav-link">
  Java基础
</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Java框架" class="dropdown-title"><span class="title">Java框架</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/Java-JavaScript-Learn-Note/MQ/" class="nav-link">
  MQ
</a></li><li class="dropdown-item"><!----> <a href="/Java-JavaScript-Learn-Note/Spring/" class="nav-link">
  Spring
</a></li><li class="dropdown-item"><!----> <a href="/Java-JavaScript-Learn-Note/SpringMVC/" class="nav-link">
  SpringMVC
</a></li><li class="dropdown-item"><!----> <a href="/Java-JavaScript-Learn-Note/SpringBoot/" class="nav-link">
  SpringBoot
</a></li><li class="dropdown-item"><!----> <a href="/Java-JavaScript-Learn-Note/SpringCloud/" class="nav-link">
  SpringCloud
</a></li></ul></div></div><div class="nav-item"><a href="/Java-JavaScript-Learn-Note/JavaSoundCode/" class="nav-link">
  Java源码
</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="前端框架" class="dropdown-title"><span class="title">前端框架</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/Java-JavaScript-Learn-Note/Vue/" class="nav-link">
  Vue
</a></li><li class="dropdown-item"><!----> <a href="/Java-JavaScript-Learn-Note/TypeScript/" class="nav-link router-link-exact-active router-link-active">
  TypeScript
</a></li><li class="dropdown-item"><!----> <a href="/Java-JavaScript-Learn-Note/React/" class="nav-link">
  React
</a></li></ul></div></div> <a href="https://github.com/K-D-Union/Java-JavaScript-Learn-Note.git" target="_blank" rel="noopener noreferrer" class="repo-link">
    Github
    <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/Java-JavaScript-Learn-Note/" class="nav-link">
  首页
</a></div><div class="nav-item"><a href="/Java-JavaScript-Learn-Note/JavaIndex/" class="nav-link">
  Java基础
</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Java框架" class="dropdown-title"><span class="title">Java框架</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/Java-JavaScript-Learn-Note/MQ/" class="nav-link">
  MQ
</a></li><li class="dropdown-item"><!----> <a href="/Java-JavaScript-Learn-Note/Spring/" class="nav-link">
  Spring
</a></li><li class="dropdown-item"><!----> <a href="/Java-JavaScript-Learn-Note/SpringMVC/" class="nav-link">
  SpringMVC
</a></li><li class="dropdown-item"><!----> <a href="/Java-JavaScript-Learn-Note/SpringBoot/" class="nav-link">
  SpringBoot
</a></li><li class="dropdown-item"><!----> <a href="/Java-JavaScript-Learn-Note/SpringCloud/" class="nav-link">
  SpringCloud
</a></li></ul></div></div><div class="nav-item"><a href="/Java-JavaScript-Learn-Note/JavaSoundCode/" class="nav-link">
  Java源码
</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="前端框架" class="dropdown-title"><span class="title">前端框架</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/Java-JavaScript-Learn-Note/Vue/" class="nav-link">
  Vue
</a></li><li class="dropdown-item"><!----> <a href="/Java-JavaScript-Learn-Note/TypeScript/" class="nav-link router-link-exact-active router-link-active">
  TypeScript
</a></li><li class="dropdown-item"><!----> <a href="/Java-JavaScript-Learn-Note/React/" class="nav-link">
  React
</a></li></ul></div></div> <a href="https://github.com/K-D-Union/Java-JavaScript-Learn-Note.git" target="_blank" rel="noopener noreferrer" class="repo-link">
    Github
    <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></nav>  <ul class="sidebar-links"><li><section class="sidebar-group depth-0"><p class="sidebar-heading open"><span>TypeScript</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/Java-JavaScript-Learn-Note/TypeScript/#参考说明" class="sidebar-link">参考说明</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/Java-JavaScript-Learn-Note/TypeScript/#介绍" class="sidebar-link">介绍</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/Java-JavaScript-Learn-Note/TypeScript/#typescript-基础环境搭建" class="sidebar-link">TypeScript 基础环境搭建</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/Java-JavaScript-Learn-Note/TypeScript/#安装-node" class="sidebar-link">安装 Node</a></li><li class="sidebar-sub-header"><a href="/Java-JavaScript-Learn-Note/TypeScript/#更改-vscode-配置" class="sidebar-link">更改 VScode 配置</a></li><li class="sidebar-sub-header"><a href="/Java-JavaScript-Learn-Note/TypeScript/#安装-vscode-插件" class="sidebar-link">安装 VScode 插件</a></li></ul></li><li><a href="/Java-JavaScript-Learn-Note/TypeScript/#静态类型的深度理解" class="sidebar-link">静态类型的深度理解</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/Java-JavaScript-Learn-Note/TypeScript/#基础类型和对象类型" class="sidebar-link">基础类型和对象类型</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/Java-JavaScript-Learn-Note/TypeScript/#基础类型" class="sidebar-link">基础类型</a></li><li class="sidebar-sub-header"><a href="/Java-JavaScript-Learn-Note/TypeScript/#对象类型" class="sidebar-link">对象类型</a></li><li class="sidebar-sub-header"><a href="/Java-JavaScript-Learn-Note/TypeScript/#其他的-case" class="sidebar-link">其他的 case</a></li></ul></li><li><a href="/Java-JavaScript-Learn-Note/TypeScript/#类型注解和类型推断" class="sidebar-link">类型注解和类型推断</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/Java-JavaScript-Learn-Note/TypeScript/#类型注解（type-annotation）" class="sidebar-link">类型注解（type annotation）</a></li><li class="sidebar-sub-header"><a href="/Java-JavaScript-Learn-Note/TypeScript/#类型推断（type-inference）" class="sidebar-link">类型推断（type inference）</a></li></ul></li><li><a href="/Java-JavaScript-Learn-Note/TypeScript/#函数相关类型" class="sidebar-link">函数相关类型</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/Java-JavaScript-Learn-Note/TypeScript/#数组和元组" class="sidebar-link">数组和元组</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/Java-JavaScript-Learn-Note/TypeScript/#基础类型-2" class="sidebar-link">基础类型</a></li><li class="sidebar-sub-header"><a href="/Java-JavaScript-Learn-Note/TypeScript/#对象类型-2" class="sidebar-link">对象类型</a></li><li class="sidebar-sub-header"><a href="/Java-JavaScript-Learn-Note/TypeScript/#元组" class="sidebar-link">元组</a></li></ul></li><li><a href="/Java-JavaScript-Learn-Note/TypeScript/#interface-接口" class="sidebar-link">Interface 接口</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/Java-JavaScript-Learn-Note/TypeScript/#类的定义与继承" class="sidebar-link">类的定义与继承</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/Java-JavaScript-Learn-Note/TypeScript/#类中的访问类型和构造器" class="sidebar-link">类中的访问类型和构造器</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/Java-JavaScript-Learn-Note/TypeScript/#访问类型" class="sidebar-link">访问类型</a></li><li class="sidebar-sub-header"><a href="/Java-JavaScript-Learn-Note/TypeScript/#构造器-constructor" class="sidebar-link">构造器 (constructor)</a></li></ul></li><li><a href="/Java-JavaScript-Learn-Note/TypeScript/#setter-和-getter" class="sidebar-link">Setter 和 Getter</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/Java-JavaScript-Learn-Note/TypeScript/#抽象类" class="sidebar-link">抽象类</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/Java-JavaScript-Learn-Note/TypeScript/#typescript-中的配置文件" class="sidebar-link">TypeScript 中的配置文件</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/Java-JavaScript-Learn-Note/TypeScript/#联合类型和类型保护" class="sidebar-link">联合类型和类型保护</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/Java-JavaScript-Learn-Note/TypeScript/#断言" class="sidebar-link">断言</a></li><li class="sidebar-sub-header"><a href="/Java-JavaScript-Learn-Note/TypeScript/#in" class="sidebar-link">in</a></li><li class="sidebar-sub-header"><a href="/Java-JavaScript-Learn-Note/TypeScript/#typeof" class="sidebar-link">typeof</a></li><li class="sidebar-sub-header"><a href="/Java-JavaScript-Learn-Note/TypeScript/#instanceof" class="sidebar-link">instanceof</a></li></ul></li><li><a href="/Java-JavaScript-Learn-Note/TypeScript/#enum-枚举类型" class="sidebar-link">Enum 枚举类型</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/Java-JavaScript-Learn-Note/TypeScript/#函数泛型" class="sidebar-link">函数泛型</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/Java-JavaScript-Learn-Note/TypeScript/#类中的泛型以及泛型类型" class="sidebar-link">类中的泛型以及泛型类型</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/Java-JavaScript-Learn-Note/TypeScript/#命名空间（namespace）" class="sidebar-link">命名空间（nameSpace）</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/Java-JavaScript-Learn-Note/TypeScript/#import-对应的模块化-缺代码" class="sidebar-link">Import 对应的模块化-缺代码</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/Java-JavaScript-Learn-Note/TypeScript/#使用-parcel-打包-ts-代码" class="sidebar-link">使用 Parcel 打包 TS 代码</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/Java-JavaScript-Learn-Note/TypeScript/#描述文件中的全局类型" class="sidebar-link">描述文件中的全局类型</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/Java-JavaScript-Learn-Note/TypeScript/#模块代码的类型描述文件" class="sidebar-link">模块代码的类型描述文件</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/Java-JavaScript-Learn-Note/TypeScript/#泛型中使用-keyof-语法的使用" class="sidebar-link">泛型中使用 keyof 语法的使用</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/Java-JavaScript-Learn-Note/TypeScript/#类的装饰器" class="sidebar-link">类的装饰器</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/Java-JavaScript-Learn-Note/TypeScript/#方法装饰器" class="sidebar-link">方法装饰器</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/Java-JavaScript-Learn-Note/TypeScript/#属性装饰装饰器" class="sidebar-link">属性装饰装饰器</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/Java-JavaScript-Learn-Note/TypeScript/#参数装饰器" class="sidebar-link">参数装饰器</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/Java-JavaScript-Learn-Note/TypeScript/#装饰器实际使用的小案例" class="sidebar-link">装饰器实际使用的小案例</a><ul class="sidebar-sub-headers"></ul></li></ul></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="typescript"><a href="#typescript" class="header-anchor">#</a> TypeScript</h1> <h2 id="参考说明"><a href="#参考说明" class="header-anchor">#</a> 参考说明</h2> <div class="custom-block tip"><p class="custom-block-title">说明</p> <p>本篇博客由慕课网视频<a href="https://coding.imooc.com/class/412.html" target="_blank" rel="noopener noreferrer">TypeScript －系统入门到项目实战<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a>(Dell-Lee)阅读整理而来，观看视频请支持正版。</p></div> <h2 id="介绍"><a href="#介绍" class="header-anchor">#</a> 介绍</h2> <p><code>TypeScript</code>是<code>JavaScript</code>的超集，拥有静态代码类型。<code>TypeScript</code>可以编译成普通<code>JavaScript</code>代码然后再去运行。
<br>
js 中的类型为动态类型，可以随意的变：</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">let</span> b <span class="token operator">=</span> <span class="token number">123</span><span class="token punctuation">;</span>
b <span class="token operator">=</span> <span class="token string">&quot;123&quot;</span><span class="token punctuation">;</span>
</code></pre></div><p>ts 对应的是静态类型：</p> <div class="language-ts extra-class"><pre class="language-ts"><code><span class="token keyword">let</span> b<span class="token operator">:</span> <span class="token builtin">number</span> <span class="token operator">=</span> <span class="token number">123</span><span class="token punctuation">;</span>
b <span class="token operator">=</span> <span class="token number">456</span><span class="token punctuation">;</span>
</code></pre></div><p>相对于 JavaScript 优势：
<br></p> <ol><li>开发过程中，发现潜在问题。
<br></li> <li>更友好的编辑器自动提示。
<br></li> <li>代码语意更清晰易懂。</li></ol> <h2 id="typescript-基础环境搭建"><a href="#typescript-基础环境搭建" class="header-anchor">#</a> TypeScript 基础环境搭建</h2> <h3 id="安装-node"><a href="#安装-node" class="header-anchor">#</a> 安装 Node</h3> <p>首先安装<code>n</code>模块：</p> <div class="language-sh extra-class"><pre class="language-sh"><code><span class="token function">sudo</span> <span class="token function">npm</span> <span class="token function">install</span> -g n
</code></pre></div><p>升级<code>node.js</code>到稳定最新版本：</p> <div class="language-sh extra-class"><pre class="language-sh"><code><span class="token function">sudo</span>  n stable
</code></pre></div><p>升级到最新版：</p> <div class="language-sh extra-class"><pre class="language-sh"><code><span class="token function">sudo</span> n latest
</code></pre></div><p>升级到指定版本：</p> <div class="language-sh extra-class"><pre class="language-sh"><code><span class="token function">sudo</span>  n vxx.xx.xx
</code></pre></div><h3 id="更改-vscode-配置"><a href="#更改-vscode-配置" class="header-anchor">#</a> 更改 VScode 配置</h3> <p>打开 VSCode 更改 quote -&gt; single，tab -&gt; 2，Format On Save -&gt; true</p> <h3 id="安装-vscode-插件"><a href="#安装-vscode-插件" class="header-anchor">#</a> 安装 VScode 插件</h3> <p>插件应用市场搜索<code>Prettier</code>并安装</p> <div class="language-sh extra-class"><pre class="language-sh"><code><span class="token function">npm</span> <span class="token function">install</span> typescript@3.6.4 -g
<span class="token function">npm</span> <span class="token function">install</span> -g ts-node
</code></pre></div><p>运行<code>ts</code>文件</p> <div class="language-sh extra-class"><pre class="language-sh"><code>ts-node xx.ts
</code></pre></div><h2 id="静态类型的深度理解"><a href="#静态类型的深度理解" class="header-anchor">#</a> 静态类型的深度理解</h2> <p>  静态类型的变量不仅类型不能修改，而且意味着这个变量的属性和方法基本已经确定了。正是因为这样，我们在编辑器使用静态类型的时候会给我们很好的语法提示。</p> <h2 id="基础类型和对象类型"><a href="#基础类型和对象类型" class="header-anchor">#</a> 基础类型和对象类型</h2> <h3 id="基础类型"><a href="#基础类型" class="header-anchor">#</a> 基础类型</h3> <p>基础类型：<code>number</code>、<code>string</code>、<code>bollean</code>、<code>null</code>、<code>undefined</code>、<code>symbol</code>、<code>void</code></p> <div class="language-ts extra-class"><pre class="language-ts"><code><span class="token keyword">const</span> count<span class="token operator">:</span> <span class="token builtin">number</span> <span class="token operator">=</span> <span class="token number">123</span>
<span class="token keyword">const</span> name<span class="token operator">:</span> String <span class="token operator">=</span> <span class="token string">'haochyk'</span>
<span class="token operator">...</span>
</code></pre></div><h3 id="对象类型"><a href="#对象类型" class="header-anchor">#</a> 对象类型</h3> <p>对象类型：<code>{}</code>、<code>Class</code>、<code>function</code>、<code>[]</code></p> <div class="language-ts extra-class"><pre class="language-ts"><code><span class="token keyword">const</span> developers<span class="token operator">:</span> <span class="token punctuation">{</span>
  name<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">;</span>
  age<span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span> <span class="token operator">=</span> <span class="token punctuation">{</span>
  name<span class="token operator">:</span> <span class="token string">&quot;haochyk&quot;</span><span class="token punctuation">,</span>
  age<span class="token operator">:</span> <span class="token number">21</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> numbers<span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">[</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token keyword">class</span> <span class="token class-name">Person</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>
<span class="token keyword">const</span> haochyk<span class="token operator">:</span> Person <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Person</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> <span class="token function-variable function">getTotal</span><span class="token operator">:</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token function-variable function">number</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> <span class="token number">123</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> date <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Date</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><h3 id="其他的-case"><a href="#其他的-case" class="header-anchor">#</a> 其他的 case</h3> <p>在实际工作中我们经常会遇到这种情况，一个<code>JSON</code>字符串转<code>JSON</code>对象：</p> <div class="language-ts extra-class"><pre class="language-ts"><code><span class="token keyword">const</span> rowData <span class="token operator">=</span> <span class="token string">'{&quot;name&quot;: &quot;haochyk&quot;}'</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> newData <span class="token operator">=</span> <span class="token constant">JSON</span><span class="token punctuation">.</span><span class="token function">parse</span><span class="token punctuation">(</span>rowData<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p>但是这种情况我们使用编辑器将鼠标放置在<code>newData</code>上我们会发现<code>ts</code>无法推断出<code>newData</code>的类型，结果为<code>any</code>，像这种使用内置函数方法的情况，我们可以这样处理：</p> <div class="language-ts extra-class"><pre class="language-ts"><code><span class="token keyword">interface</span> <span class="token class-name">Person</span> <span class="token operator">=</span> <span class="token punctuation">{</span>
   name<span class="token operator">:</span> <span class="token string">'string'</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token keyword">const</span> rowData <span class="token operator">=</span> <span class="token string">'{&quot;name&quot;: &quot;haochyk&quot;}'</span>
<span class="token keyword">const</span> newData<span class="token operator">:</span> Person <span class="token operator">=</span> <span class="token constant">JSON</span><span class="token punctuation">.</span><span class="token function">parse</span><span class="token punctuation">(</span>rowData<span class="token punctuation">)</span>
</code></pre></div><p>另外一种情况，我们声明了一个变量，初始变量类型为<code>number</code>类型，但是我后面就是想将变量类型修改为<code>string</code>，这是个我们可以这样使用：</p> <div class="language-ts extra-class"><pre class="language-ts"><code><span class="token keyword">let</span> count<span class="token operator">:</span> <span class="token builtin">number</span> <span class="token operator">|</span> <span class="token builtin">string</span> <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span>
count <span class="token operator">=</span> <span class="token string">&quot;1&quot;</span><span class="token punctuation">;</span>
</code></pre></div><h2 id="类型注解和类型推断"><a href="#类型注解和类型推断" class="header-anchor">#</a> 类型注解和类型推断</h2> <h3 id="类型注解（type-annotation）"><a href="#类型注解（type-annotation）" class="header-anchor">#</a> 类型注解（<code>type annotation</code>）</h3> <p>显示的声明一个变量数据类型的写法我们称之为类型注解</p> <div class="language-ts extra-class"><pre class="language-ts"><code><span class="token keyword">let</span> count<span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">;</span>
count <span class="token operator">=</span> <span class="token number">123</span><span class="token punctuation">;</span>
</code></pre></div><h3 id="类型推断（type-inference）"><a href="#类型推断（type-inference）" class="header-anchor">#</a> 类型推断（<code>type inference</code>）</h3> <p>TS 会自动的去尝试分析变量的类型</p> <div class="language-ts extra-class"><pre class="language-ts"><code><span class="token keyword">let</span> count <span class="token operator">=</span> <span class="token number">123</span><span class="token punctuation">;</span>
</code></pre></div><p>如果 <code>TS</code> 能够自动分析变量类型，我们就什么都不需要做了。反之，我们就需要使用类型注解。</p> <h2 id="函数相关类型"><a href="#函数相关类型" class="header-anchor">#</a> 函数相关类型</h2> <p>  首先我们收一下 TS 的几种定义函数的方式和 JS 是一样的</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">function</span> <span class="token function">hello</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>
<span class="token keyword">const</span> <span class="token function-variable function">hello</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> <span class="token function-variable function">hello</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre></div><p>我们在写函数类型的时候：</p> <div class="language-ts extra-class"><pre class="language-ts"><code><span class="token keyword">function</span> <span class="token function">add</span><span class="token punctuation">(</span><span class="token parameter">first<span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">,</span> second<span class="token operator">:</span> <span class="token builtin">number</span></span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> first <span class="token operator">+</span> second<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div><p>函数的入参我们需要声明类型，TS 会根据入参的类型推断出返回结果的类型。
但是有时候我们也需要声明函数的返回值类型，比如以下这种情况：</p> <div class="language-ts extra-class"><pre class="language-ts"><code><span class="token keyword">function</span> <span class="token function">add</span><span class="token punctuation">(</span><span class="token parameter">first<span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">,</span> second<span class="token operator">:</span> <span class="token builtin">number</span></span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> first <span class="token operator">+</span> second <span class="token operator">+</span> <span class="token string">&quot;&quot;</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token keyword">const</span> total <span class="token operator">=</span> <span class="token function">add</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p>这种是由于我们笔误导致我们期望与实际不符，这是就会报错，所以我们应该修改为这种的进行双重校验：</p> <div class="language-ts extra-class"><pre class="language-ts"><code><span class="token keyword">function</span> <span class="token function">add</span><span class="token punctuation">(</span><span class="token parameter">first<span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">,</span> second<span class="token operator">:</span> <span class="token builtin">number</span></span><span class="token punctuation">)</span><span class="token operator">:</span> <span class="token builtin">number</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> first <span class="token operator">+</span> second<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token comment">//或</span>
<span class="token keyword">const</span> <span class="token function-variable function">add</span><span class="token operator">:</span> <span class="token punctuation">(</span><span class="token parameter">first<span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">,</span> second<span class="token operator">:</span> <span class="token builtin">number</span></span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token function-variable function">number</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter">first<span class="token punctuation">,</span> second</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> first <span class="token operator">+</span> second<span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> total <span class="token operator">=</span> <span class="token function">add</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p>另外，还有几种常用的函数返回值类型：
<code>void</code>通过字面意思，我们大致就可以理解它的意思：空白，即没有返回值</p> <div class="language-ts extra-class"><pre class="language-ts"><code><span class="token keyword">function</span> <span class="token function">sayHello</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">:</span> <span class="token keyword">void</span> <span class="token punctuation">{</span>
  <span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&quot;hello&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div><p><code>never</code>这个字面意思可能就不是很容易理解，它的意思是函数永远不会执行到最后,我们通过代码来看：</p> <div class="language-ts extra-class"><pre class="language-ts"><code><span class="token keyword">function</span> <span class="token function">errorEmiter</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">:</span> <span class="token builtin">never</span> <span class="token punctuation">{</span>
  <span class="token keyword">while</span> <span class="token punctuation">(</span><span class="token boolean">true</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>
  <span class="token keyword">return</span> <span class="token boolean">true</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token comment">//或</span>
<span class="token keyword">function</span> <span class="token function">errorEmiter</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">:</span> <span class="token builtin">never</span> <span class="token punctuation">{</span>
  <span class="token keyword">throw</span> <span class="token keyword">new</span> <span class="token class-name">Error</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">return</span> <span class="token boolean">true</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div><p>还有一种我们常用的就是函数参数对象类型的解构：</p> <div class="language-ts extra-class"><pre class="language-ts"><code><span class="token keyword">function</span> <span class="token function">add</span><span class="token punctuation">(</span><span class="token parameter"><span class="token punctuation">{</span> first<span class="token punctuation">,</span> second <span class="token punctuation">}</span></span><span class="token punctuation">)</span><span class="token operator">:</span> <span class="token punctuation">{</span> first<span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">;</span> second<span class="token operator">:</span> <span class="token builtin">number</span> <span class="token punctuation">}</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> first <span class="token operator">+</span> second<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token keyword">const</span> total <span class="token operator">=</span> <span class="token function">add</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><h2 id="数组和元组"><a href="#数组和元组" class="header-anchor">#</a> 数组和元组</h2> <p>在<code>TS</code>中数组是和<code>JS</code>中是一样的，比如我们声明一个数组：</p> <div class="language-ts extra-class"><pre class="language-ts"><code><span class="token keyword">const</span> numberArr <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
</code></pre></div><p>在<code>TS</code>中我们同样可以声明数组每一项类型（基础类型和对象类型），首先我们来看基础类型：</p> <h3 id="基础类型-2"><a href="#基础类型-2" class="header-anchor">#</a> 基础类型</h3> <p>TS 中我们可以使用任意基础类型来约束数组内容，见如下代码：</p> <div class="language-ts extra-class"><pre class="language-ts"><code><span class="token keyword">const</span> numberArr<span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">[</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">;</span> <span class="token comment">// 同样这种情况不定义数组类型也是可以的，TS会自动帮助我们推断出数组类型为number</span>
<span class="token keyword">const</span> stringArr<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">[</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token string">&quot;1&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;2&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;3&quot;</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
</code></pre></div><p>当我们数组中的内容多一项少一项或者某一项的内容类型不是我们约束的类型的话，都会飘红。
但是在很多应用场景中数组内不仅有<code>number</code>类型还会有其他类型的值，比如说：<code>string</code>，那我们应该如何来约定数组类型呢：</p> <div class="language-ts extra-class"><pre class="language-ts"><code><span class="token keyword">const</span> arr<span class="token operator">:</span> <span class="token punctuation">(</span><span class="token builtin">string</span> ｜ <span class="token builtin">number</span><span class="token punctuation">)</span> <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token string">'2'</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">]</span>
</code></pre></div><h3 id="对象类型-2"><a href="#对象类型-2" class="header-anchor">#</a> 对象类型</h3> <p>同样我们也可以使用对象类型来约束数组内容，比如：</p> <div class="language-ts extra-class"><pre class="language-ts"><code><span class="token keyword">const</span> objectArr<span class="token operator">:</span> <span class="token punctuation">{</span> name<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">;</span> age<span class="token operator">:</span> <span class="token builtin">number</span> <span class="token punctuation">}</span><span class="token punctuation">[</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token punctuation">[</span>
  <span class="token punctuation">{</span>
    name<span class="token operator">:</span> <span class="token string">&quot;haochyk&quot;</span><span class="token punctuation">,</span>
    age<span class="token operator">:</span> <span class="token number">18</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">]</span><span class="token punctuation">;</span>
</code></pre></div><p>如果我们的对象内容非常多的话，这样写代码就显的非常不美观了，我们可以使用类型别名(<code>type alias</code>)来解决这个问题：</p> <div class="language-ts extra-class"><pre class="language-ts"><code><span class="token keyword">type</span> User <span class="token operator">=</span> <span class="token punctuation">{</span>
  name<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">;</span>
  age<span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> objectArr<span class="token operator">:</span> User<span class="token punctuation">[</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token punctuation">[</span>
  <span class="token punctuation">{</span>
    name<span class="token operator">:</span> <span class="token string">&quot;haochyk&quot;</span><span class="token punctuation">,</span>
    age<span class="token operator">:</span> <span class="token number">18</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">]</span><span class="token punctuation">;</span>
</code></pre></div><p>值得我们注意的是<code>class</code>类，<code>TS</code>不会强制要求必须返回实例对象，所以只要数据内容格式一致都是被允许的，比如以下这种写法：</p> <div class="language-ts extra-class"><pre class="language-ts"><code><span class="token keyword">class</span> <span class="token class-name">User</span> <span class="token operator">=</span> <span class="token punctuation">{</span>
   name<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">;</span>
   age<span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token keyword">const</span> objectArr<span class="token operator">:</span> User<span class="token punctuation">[</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token punctuation">[</span>
   <span class="token keyword">new</span> <span class="token class-name">User</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
   <span class="token punctuation">{</span>
      name<span class="token operator">:</span> <span class="token string">'haochyk'</span><span class="token punctuation">,</span>
      age<span class="token operator">:</span> <span class="token number">18</span><span class="token punctuation">,</span>
   <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">]</span>
</code></pre></div><h3 id="元组"><a href="#元组" class="header-anchor">#</a> 元组</h3> <p>我们首先说下什么是元组，元组（<code>tuple</code>）可以看作是数组的拓展，它表示已知元素数量和类型的数组。我们通过一个实例来了解下到底什么是元组，以及元组的应用场景是什么：
首先我们来看如何声明一个元组：</p> <div class="language-ts extra-class"><pre class="language-ts"><code><span class="token keyword">const</span> userInfo<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token builtin">string</span><span class="token punctuation">,</span> <span class="token builtin">string</span><span class="token punctuation">,</span> <span class="token builtin">number</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token string">&quot;haochy&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;male&quot;</span><span class="token punctuation">,</span> <span class="token number">18</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
</code></pre></div><p>数组也可以满足这种情况我们为什么要使用元组呢，比如以下这种情况:
数组中的长度是固定的，也就是我们是知道数组具体有几项内容，也知道数组每一项的类型，比如说数组的第一项是名称，第二项是性别，第三项是年龄，当然前两项肯定是<code>string</code>类型，最后一项为<code>number</code>，用数组可以这样声明：</p> <div class="language-ts extra-class"><pre class="language-ts"><code><span class="token keyword">const</span> userInfo<span class="token operator">:</span> <span class="token punctuation">(</span><span class="token builtin">string</span> <span class="token operator">|</span> <span class="token builtin">number</span><span class="token punctuation">)</span><span class="token punctuation">[</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token string">&quot;haochy&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;male&quot;</span><span class="token punctuation">,</span> <span class="token number">18</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
</code></pre></div><p>但是这样声明我们就控制不了数组内具体每一项的类型了，第一项我们可以修改成<code>number</code>类型，它不会报错，这样其实是不符合我们的预期的，所以元组就来了，它可以帮助我们做到这一点，来约束住数组的每一项：
接下来我们来看下元组的应用场景，大致有：读取<code>excel</code>导出的文件、<code>csv</code>文件再转换为<code>js</code>的时候，使用元组比较好管理，像读取<code>csv</code>文件转为<code>js</code>的数据结构为这种类型：</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token punctuation">[</span><span class="token punctuation">[</span><span class="token string">&quot;haochyk&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;male&quot;</span><span class="token punctuation">,</span> <span class="token number">18</span><span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
</code></pre></div><p>这个时候我们怎么来定义它的类型呢，可以这样来定义：</p> <div class="language-ts extra-class"><pre class="language-ts"><code><span class="token keyword">const</span> userInfoList<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token builtin">string</span><span class="token punctuation">,</span> <span class="token builtin">string</span><span class="token punctuation">,</span> <span class="token builtin">number</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">[</span><span class="token string">&quot;haochyk&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;male&quot;</span><span class="token punctuation">,</span> <span class="token number">18</span><span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
</code></pre></div><h2 id="interface-接口"><a href="#interface-接口" class="header-anchor">#</a> Interface 接口</h2> <p>首先我看来看一段代码，我们通过代码来讲解 interface 的具体知识点。</p> <div class="language-ts extra-class"><pre class="language-ts"><code><span class="token keyword">function</span> <span class="token function">getPersonName</span><span class="token punctuation">(</span><span class="token parameter">person<span class="token operator">:</span> <span class="token punctuation">{</span> name<span class="token operator">:</span> <span class="token builtin">string</span> <span class="token punctuation">}</span></span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>person<span class="token punctuation">.</span>name<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token keyword">function</span> <span class="token function">setPersonName</span><span class="token punctuation">(</span><span class="token parameter">person<span class="token operator">:</span> <span class="token punctuation">{</span> name<span class="token operator">:</span> <span class="token builtin">string</span> <span class="token punctuation">}</span><span class="token punctuation">,</span> name<span class="token operator">:</span> <span class="token builtin">string</span></span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  person<span class="token punctuation">.</span>name <span class="token operator">=</span> name<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div><p>上面两个简单的方法我们可以看出 person 参数后的类型定义我们需要重复的写两遍，这个时候我们将重复的类型定义用 interface 接口的形式抽离出来：</p> <div class="language-ts extra-class"><pre class="language-ts"><code><span class="token keyword">interface</span> <span class="token class-name">Person</span> <span class="token punctuation">{</span>
  name<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">;</span>
  age<span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token keyword">function</span> <span class="token function">getPersonName</span><span class="token punctuation">(</span><span class="token parameter">person<span class="token operator">:</span> Person</span><span class="token punctuation">)</span><span class="token operator">:</span> <span class="token keyword">void</span> <span class="token punctuation">{</span>
  <span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>person<span class="token punctuation">.</span>name<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token keyword">function</span> <span class="token function">setPersonName</span><span class="token punctuation">(</span><span class="token parameter">person<span class="token operator">:</span> Person<span class="token punctuation">,</span> name<span class="token operator">:</span> <span class="token builtin">string</span></span><span class="token punctuation">)</span><span class="token operator">:</span> <span class="token keyword">void</span> <span class="token punctuation">{</span>
  person<span class="token punctuation">.</span>name <span class="token operator">=</span> name<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div><p>当然还有另外一种方法可以实现相通的效果就是使用类型定义：<code>type alias</code>:</p> <div class="language-ts extra-class"><pre class="language-ts"><code><span class="token keyword">type</span> Person <span class="token operator">=</span> <span class="token punctuation">{</span>
  name<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">;</span>
  age<span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token keyword">function</span> <span class="token function">getPersonName</span><span class="token punctuation">(</span><span class="token parameter">person<span class="token operator">:</span> Person</span><span class="token punctuation">)</span><span class="token operator">:</span> <span class="token keyword">void</span> <span class="token punctuation">{</span>
  <span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>person<span class="token punctuation">.</span>name<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token keyword">function</span> <span class="token function">setPersonName</span><span class="token punctuation">(</span><span class="token parameter">person<span class="token operator">:</span> Person<span class="token punctuation">,</span> name<span class="token operator">:</span> <span class="token builtin">string</span></span><span class="token punctuation">)</span><span class="token operator">:</span> <span class="token keyword">void</span> <span class="token punctuation">{</span>
  person<span class="token punctuation">.</span>name <span class="token operator">=</span> name<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div><p><code>interface</code>和<code>type</code>类似但又不完全相同，不同点就是 interface 只能代表一个函数或者一个对象，它不能代表一个基础类型：</p> <div class="language-ts extra-class"><pre class="language-ts"><code><span class="token keyword">type</span> Person <span class="token operator">=</span> <span class="token builtin">string</span><span class="token punctuation">;</span>
<span class="token keyword">interface</span> <span class="token class-name">Person</span> <span class="token punctuation">{</span>
  name<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">;</span>
  age<span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div><div class="custom-block tip"><p class="custom-block-title">提示</p> <p>在<code>TypeScript</code>里面一个通用型的规范就是：如果能用接口来表述一个别名的话我们就用接口的方式，实在不行我们才用类型别名</p></div> <p>在有些情况下我们不需要传递<code>age</code>属性该怎么办，我们不传递<code>age</code>参数<code>ts</code>又会报错，我们可以这样来写：</p> <div class="language-ts extra-class"><pre class="language-ts"><code><span class="token keyword">interface</span> <span class="token class-name">Person</span> <span class="token punctuation">{</span>
   readyonly name<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">;</span>
   age<span class="token operator">?</span><span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div><p>这样的意思就是<code>age</code>属性可有可无，还有一个修饰符：<code>readonly</code>意思为属性只读。
这里值得我们注意的一点就是，如果我们传递参数的时候，多传递了一个<code>sex</code>属性：</p> <div class="language-ts extra-class"><pre class="language-ts"><code><span class="token keyword">interface</span> <span class="token class-name">Person</span> <span class="token punctuation">{</span>
  name<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">;</span>
  age<span class="token operator">?</span><span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token keyword">function</span> <span class="token function">getPersonName</span><span class="token punctuation">(</span><span class="token parameter">person<span class="token operator">:</span> Person</span><span class="token punctuation">)</span><span class="token operator">:</span> <span class="token keyword">void</span> <span class="token punctuation">{</span>
  <span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>person<span class="token punctuation">.</span>name<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token keyword">function</span> <span class="token function">setPersonName</span><span class="token punctuation">(</span><span class="token parameter">person<span class="token operator">:</span> Person<span class="token punctuation">,</span> name<span class="token operator">:</span> <span class="token builtin">string</span></span><span class="token punctuation">)</span><span class="token operator">:</span> <span class="token keyword">void</span> <span class="token punctuation">{</span>
  person<span class="token punctuation">.</span>name <span class="token operator">=</span> name<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token keyword">const</span> person <span class="token operator">=</span> <span class="token punctuation">{</span>
  name<span class="token operator">:</span> <span class="token string">&quot;haochyk&quot;</span><span class="token punctuation">,</span>
  sex<span class="token operator">:</span> <span class="token string">&quot;male&quot;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token comment">// 不会报错</span>
<span class="token function">getPersonName</span><span class="token punctuation">(</span>person<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// 报错</span>
<span class="token function">getPersonName</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  name<span class="token operator">:</span> <span class="token string">&quot;haochyk&quot;</span><span class="token punctuation">,</span>
  sex<span class="token operator">:</span> <span class="token string">&quot;male&quot;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p>这是因为，我们如果直接使用字面量的形式传参的话，<code>ts</code>会进行强校验，必须严格符合参数的类型定义，而如果我们使用缓存的形式，则不会，只要有类型定义该有的东西即可，多出一点东西也是可以的。
如果我们只是确定参数对象有<code>name</code>属性，我们不确定有其他属性的时候我们可以这样来写：</p> <div class="language-ts extra-class"><pre class="language-ts"><code><span class="token keyword">interface</span> <span class="token class-name">Person</span> <span class="token punctuation">{</span>
   readyonly name<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">;</span>
   age<span class="token operator">?</span><span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">;</span>
   <span class="token punctuation">[</span>propName<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">]</span><span class="token operator">:</span> <span class="token builtin">any</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div><p>接口里不仅可以存这样的属性和它的类型还可以存方法，比如我们定义<code>say</code>方法返回值的类型为<code>string</code>：</p> <div class="language-ts extra-class"><pre class="language-ts"><code><span class="token keyword">interface</span> <span class="token class-name">Person</span> <span class="token punctuation">{</span>
   readyonly name<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">;</span>
   age<span class="token operator">?</span><span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">;</span>
   <span class="token punctuation">[</span>propName<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">]</span><span class="token operator">:</span> <span class="token builtin">any</span><span class="token punctuation">;</span>
   <span class="token function">say</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div><p><code>Class</code>类是可以应用接口的，当一个类去应用接口时必须拥有接口里的属性，举个例子：</p> <div class="language-ts extra-class"><pre class="language-ts"><code><span class="token keyword">class</span> <span class="token class-name">user</span> <span class="token keyword">implements</span> <span class="token class-name">Person</span> <span class="token punctuation">{</span>
  name <span class="token operator">=</span> <span class="token string">&quot;haochy&quot;</span><span class="token punctuation">;</span>
  <span class="token function">say</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token string">&quot;hello&quot;</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><p>接口之间还可以互相继承，如下面这个例子：</p> <div class="language-ts extra-class"><pre class="language-ts"><code><span class="token keyword">interface</span> <span class="token class-name">Teacher</span> <span class="token keyword">extends</span> <span class="token class-name">Person</span> <span class="token punctuation">{</span>
  <span class="token function">teach</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token keyword">const</span> teacher <span class="token operator">=</span> <span class="token punctuation">{</span>
  name<span class="token operator">:</span> <span class="token string">&quot;haochyk&quot;</span><span class="token punctuation">,</span>
  age<span class="token operator">:</span> <span class="token number">18</span><span class="token punctuation">,</span>
  <span class="token function">say</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token string">&quot;hello&quot;</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token function">teach</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token string">&quot;TypeScript&quot;</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token function">setPersonName</span><span class="token punctuation">(</span>teacher<span class="token punctuation">,</span> <span class="token string">&quot;haochyk&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p>接口继承它会拥有<code>Person</code>接口下所有的属性和方法，同时还必须得有自己的属性或方法。
接口自身除了可以定义属性、方法之外，其实它自身还可以定义函数：</p> <div class="language-ts extra-class"><pre class="language-ts"><code><span class="token keyword">interface</span> <span class="token class-name">SayHi</span> <span class="token punctuation">{</span>
  <span class="token punctuation">(</span>word<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">)</span><span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token keyword">const</span> say<span class="token operator">:</span> <span class="token function-variable function">SayHi</span> <span class="token operator">=</span> <span class="token parameter">word</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> word<span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre></div><p>同样<code>interface</code>还可以定义数组这样的索引类型，当我们去写这种接口的时候，<code>ts</code>最终会把把文件编译成 js，但是最终编译后的<code>js</code>内并没有<code>interface</code>。</p> <div class="custom-block danger"><p class="custom-block-title">注意</p> <p>其实，<code>interface</code>就是在我们开发过程中<code>TypeScript</code>帮助我们做语法提示的一个工具。真正编译的时候会将这部分内容剔除掉。</p></div> <h2 id="类的定义与继承"><a href="#类的定义与继承" class="header-anchor">#</a> 类的定义与继承</h2> <p><code>TypeScript</code>中的类其实和<code>JavaScript</code>、<code>ES6</code>中的类很类似，不过在它的基础上<code>TypeScript</code>提供了更多的特性.
我们先看一个最基础的类：</p> <div class="language-ts extra-class"><pre class="language-ts"><code><span class="token keyword">class</span> <span class="token class-name">Person</span> <span class="token punctuation">{</span>
  name <span class="token operator">=</span> <span class="token string">&quot;haochyk&quot;</span><span class="token punctuation">;</span>
  <span class="token function">getName</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>name<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><p>有了类之后我们可以通过类来创建一个实例，比如说：</p> <div class="language-ts extra-class"><pre class="language-ts"><code><span class="token keyword">class</span> <span class="token class-name">Person</span> <span class="token punctuation">{</span>
  name <span class="token operator">=</span> <span class="token string">&quot;haochyk&quot;</span><span class="token punctuation">;</span>
  <span class="token function">getName</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">.</span>name<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token keyword">const</span> person <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Person</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p>到这里我们就说了如何去定义一个类，以及如何在类里去定义方法。
接着我们来说下类的继承：(在<code>ES6</code>里写类的继承其实是和<code>TypeScript</code>里是一样的)</p> <div class="language-ts extra-class"><pre class="language-ts"><code><span class="token keyword">class</span> <span class="token class-name">Person</span> <span class="token punctuation">{</span>
  name <span class="token operator">=</span> <span class="token string">&quot;haochyk&quot;</span><span class="token punctuation">;</span>
  <span class="token function">getName</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">.</span>name<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token keyword">class</span> <span class="token class-name">Teacher</span> <span class="token keyword">extends</span> <span class="token class-name">Person</span> <span class="token punctuation">{</span>
  <span class="token function">getTeacherName</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token string">&quot;hao&quot;</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token keyword">const</span> teacher <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Teacher</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>teacher<span class="token punctuation">.</span><span class="token function">getName</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// haochyk</span>
<span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>teacher<span class="token punctuation">.</span><span class="token function">getTeacherName</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// hao</span>
</code></pre></div><p>继承的意思就是，子类不仅可以使用父类的方法还可以使用自己的方法。
类还有一个概念叫做重写，即在子类和父类中的同名方法，子类中的方法会覆盖掉父类中的方法，如果想要调用父类中的方法，我们可以使用<code>super</code>，例如：</p> <div class="language-ts extra-class"><pre class="language-ts"><code><span class="token keyword">class</span> <span class="token class-name">Teacher</span> <span class="token keyword">extends</span> <span class="token class-name">Person</span> <span class="token punctuation">{</span>
  <span class="token function">getName</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token keyword">super</span><span class="token punctuation">.</span><span class="token function">getName</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token string">&quot;1&quot;</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>teacher<span class="token punctuation">.</span><span class="token function">getName</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// haochyk1</span>
</code></pre></div><p>这同样也是<code>super</code>在开发中常用的应用场景：子类重写父类方法，如果需要调用父类方法可以使用<code>super</code></p> <h2 id="类中的访问类型和构造器"><a href="#类中的访问类型和构造器" class="header-anchor">#</a> 类中的访问类型和构造器</h2> <h3 id="访问类型"><a href="#访问类型" class="header-anchor">#</a> 访问类型</h3> <p>什么是访问类型？我们在<code>ts</code>中定义一个类，我们实例化这个类，访问以及修改这个实例中的属性都是可以的，因为<code>ts</code>中类的属性默认是<code>public</code>访问类型。
访问类型分为三种：<code>private</code>、<code>protected</code>、<code>public</code>。<br></p> <ul><li><code>private</code>： 仅在类内允许被调用</li> <li><code>protected</code>：类内或者继承的子类中允许被调用</li> <li><code>public</code>：类内外都可以允许被调用
我们通过代码来看下这三个的区别：<br>
首先<code>private</code>：</li></ul> <div class="language-ts extra-class"><pre class="language-ts"><code><span class="token keyword">class</span> <span class="token class-name">Person</span> <span class="token punctuation">{</span>
  <span class="token keyword">private</span> name <span class="token operator">=</span> <span class="token string">&quot;haochyk&quot;</span><span class="token punctuation">;</span>
  <span class="token function">say</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">.</span>name<span class="token punctuation">;</span> <span class="token comment">// 允许访问</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token keyword">const</span> person <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Person</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>person<span class="token punctuation">.</span>name<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// ts报错</span>
</code></pre></div><p><code>public</code>：</p> <div class="language-ts extra-class"><pre class="language-ts"><code><span class="token keyword">class</span> <span class="token class-name">Person</span> <span class="token punctuation">{</span>
  <span class="token keyword">public</span> name <span class="token operator">=</span> <span class="token string">&quot;haochyk&quot;</span><span class="token punctuation">;</span>
  <span class="token function">say</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">.</span>name<span class="token punctuation">;</span> <span class="token comment">// 允许访问</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token keyword">const</span> person <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Person</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>person<span class="token punctuation">.</span>name<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 允许访问</span>
</code></pre></div><p><code>protected</code>：</p> <div class="language-ts extra-class"><pre class="language-ts"><code><span class="token keyword">class</span> <span class="token class-name">Person</span> <span class="token punctuation">{</span>
  <span class="token keyword">protected</span> name <span class="token operator">=</span> <span class="token string">&quot;haochyk&quot;</span><span class="token punctuation">;</span>
  <span class="token function">say</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">.</span>name<span class="token punctuation">;</span> <span class="token comment">// 允许访问</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token keyword">class</span> <span class="token class-name">Teacher</span> <span class="token punctuation">{</span>
  <span class="token function">teacherSay</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">.</span>name<span class="token punctuation">;</span> <span class="token comment">// 允许访问</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token keyword">const</span> person <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Person</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>person<span class="token punctuation">.</span>name<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// ts报错</span>
</code></pre></div><h3 id="构造器-constructor"><a href="#构造器-constructor" class="header-anchor">#</a> 构造器 (constructor)</h3> <p>老样子，我们先来定义一个类：</p> <div class="language-ts extra-class"><pre class="language-ts"><code><span class="token keyword">class</span> <span class="token class-name">Person</span> <span class="token punctuation">{</span>
  <span class="token keyword">public</span> name<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">;</span>
  <span class="token keyword">constructor</span><span class="token punctuation">(</span><span class="token parameter">name<span class="token operator">:</span> <span class="token builtin">string</span></span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>name <span class="token operator">=</span> name<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token keyword">const</span> person <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Person</span><span class="token punctuation">(</span><span class="token string">&quot;haochyk&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>person<span class="token punctuation">.</span>name<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// haochyk</span>
</code></pre></div><p><code>constructor</code>这个方法会在类被实例化的时候自动执行，并且将实例化的参数传递给<code>constructor</code>这个方法。
以上例子是比较传统的写法，我们先定义一个属性，然后在构造器中给属性赋值，<code>ts</code>提供了一个更简单的方法，这两种写法是等价的：</p> <div class="language-ts extra-class"><pre class="language-ts"><code><span class="token keyword">class</span> <span class="token class-name">Person</span> <span class="token punctuation">{</span>
  <span class="token keyword">constructor</span><span class="token punctuation">(</span><span class="token parameter"><span class="token keyword">public</span> name<span class="token operator">:</span> <span class="token builtin">string</span></span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token keyword">const</span> person <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Person</span><span class="token punctuation">(</span><span class="token string">&quot;haochyk&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>person<span class="token punctuation">.</span>name<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// haochyk</span>
</code></pre></div><p>如果继承中，子类要使用构造器，需要使用<code>super</code>，这时<code>super</code>是一个方法，它代表父类的构造函数，同时需要将父类构造函数需要的参数传递给<code>super</code>方法，即便父类没有构造器，子类也需要调用一个参数为空的<code>super()</code>，代码如下：</p> <div class="language-ts extra-class"><pre class="language-ts"><code><span class="token keyword">class</span> <span class="token class-name">Person</span> <span class="token punctuation">{</span>
  <span class="token keyword">constructor</span><span class="token punctuation">(</span><span class="token parameter"><span class="token keyword">public</span> name<span class="token operator">:</span> <span class="token builtin">string</span></span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token keyword">class</span> <span class="token class-name">Teacher</span> <span class="token punctuation">{</span>
  <span class="token keyword">constructor</span><span class="token punctuation">(</span><span class="token parameter"><span class="token keyword">public</span> age<span class="token operator">:</span> <span class="token builtin">number</span></span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">super</span><span class="token punctuation">(</span><span class="token string">&quot;haochyk&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token keyword">const</span> teacher <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Teacher</span><span class="token punctuation">(</span><span class="token number">18</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>teacher<span class="token punctuation">.</span>name<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// haochyk</span>
<span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>teacher<span class="token punctuation">.</span>age<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 18</span>
</code></pre></div><h2 id="setter-和-getter"><a href="#setter-和-getter" class="header-anchor">#</a> Setter 和 Getter</h2> <p>我们首先来说下<code>getter</code>和<code>setter</code>的作用是：其实是为了保护类的私有属性，对私有属性的一个加密，我们通过代码来看下：</p> <div class="language-ts extra-class"><pre class="language-ts"><code><span class="token keyword">class</span> <span class="token class-name">Demo</span> <span class="token punctuation">{</span>
  <span class="token keyword">constructor</span><span class="token punctuation">(</span><span class="token parameter"><span class="token keyword">private</span> _name<span class="token operator">:</span> <span class="token builtin">string</span></span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>
  <span class="token keyword">get</span> <span class="token function">name</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">.</span>_name <span class="token operator">+</span> <span class="token string">&quot;a48dsi39xls2&quot;</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  <span class="token keyword">set</span> <span class="token function">setName</span><span class="token punctuation">(</span><span class="token parameter">name<span class="token operator">:</span> <span class="token builtin">string</span></span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>_name <span class="token operator">=</span> name<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token keyword">const</span> demo <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Demo</span><span class="token punctuation">(</span><span class="token string">&quot;haocyk&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>demo<span class="token punctuation">.</span>name<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 'haocyka48dsi39xls2'</span>
demo<span class="token punctuation">.</span><span class="token function">setName</span><span class="token punctuation">(</span><span class="token string">&quot;haochyk&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p>然后我们再来说一下如何使用<code>TypeScript</code>来实现一个单例模式（一个类只能被实例化一次）🌰：</p> <div class="language-ts extra-class"><pre class="language-ts"><code><span class="token keyword">class</span> <span class="token class-name">Demo</span> <span class="token punctuation">{</span>
  <span class="token keyword">private</span> <span class="token keyword">static</span> instance<span class="token operator">:</span> Demo<span class="token punctuation">;</span>
  <span class="token keyword">private</span> <span class="token keyword">constructor</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>
  <span class="token keyword">static</span> <span class="token function">getInstance</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span><span class="token keyword">this</span><span class="token punctuation">.</span>instance<span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">this</span><span class="token punctuation">.</span>instance <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Demo</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">.</span>instance<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token keyword">const</span> demo <span class="token operator">=</span> Demo<span class="token punctuation">.</span><span class="token function">getInstance</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p>  首先我们要做的第一件事情就是控制住类的构造函数不能在外部调用，所以我们把类的构造函数设置成私有属性，这个时候该如何实例化一个类呢🤔，我们在类中定义一个方法提供给外部使用，由于我们没办法实例化类该怎么调用实例化类上的方法，所以我们要用<code>static</code>，直接将方法挂载到类上而不是挂载到实例化对象上，这样我们就可以通过<code>demo.getInstance()</code>来实例化<code>demo</code>这个类了，但是换句话说了，这样还不是照样可以无限实例化类嘛😰，实例化出来的对象指针还都不是一样的，我们接着往下看，我们在类上在通过<code>static</code>的方式挂载一个属性，将它设置为私有属性，在<code>getInstance</code>方法中判断，如果是初始化第一次实例化这个类，我们就讲实例化对象绑定在这个<code>instance</code>属性上，最后返回出去，如果有的话，我们直接将<code>instance</code>返回出去，这样我们就实现了一个最简单的单例模式💯。</p> <h2 id="抽象类"><a href="#抽象类" class="header-anchor">#</a> 抽象类</h2> <p>  抽象类的概念就是将类里面公用的东西提炼出来，再组成一个抽象类，抽象类里不仅可以有抽象方法还可以有具体的属性和方法，他与<code>interface</code>不同的是，<code>interface</code>是将接口中公用的东西提炼出来，而抽象类针对的是类，抽象类不能直接被实例化，但是他可以被继承，我们来看一个例子🌰：</p> <div class="language-ts extra-class"><pre class="language-ts"><code><span class="token keyword">abstract</span> <span class="token keyword">class</span> <span class="token class-name">Gemo</span> <span class="token punctuation">{</span>
  <span class="token keyword">abstract</span> <span class="token function">getArea</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">;</span> <span class="token comment">//因为每个图形的具体实现面积的方法是不一样的，但是他们共同点是都应该有这个方法，所以我们把它修改为抽象方法，一旦你将这个方法定义为抽象方法就以为你不能写方法的实现，你只能定义下这个方法</span>
<span class="token punctuation">}</span>
<span class="token keyword">class</span> <span class="token class-name">Circle</span> <span class="token keyword">extends</span> <span class="token class-name">Gemo</span> <span class="token punctuation">{</span>
  <span class="token function">getArea</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token number">123</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token keyword">class</span> <span class="token class-name">Square</span> <span class="token keyword">extends</span> <span class="token class-name">Gemo</span> <span class="token punctuation">{</span>
  <span class="token function">getArea</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token number">456</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token keyword">class</span> <span class="token class-name">Triangle</span> <span class="token keyword">extends</span> <span class="token class-name">Gemo</span> <span class="token punctuation">{</span>
  <span class="token function">getArea</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token number">789</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token keyword">const</span> demo <span class="token operator">=</span> Demo<span class="token punctuation">.</span><span class="token function">getInstance</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><h2 id="typescript-中的配置文件"><a href="#typescript-中的配置文件" class="header-anchor">#</a> TypeScript 中的配置文件</h2> <p> 首先我们都知道在初始化<code>TypeScript</code>项目的时候我们需要使用命令：</p> <div class="language-sh extra-class"><pre class="language-sh"><code>ts --init
</code></pre></div><p> 使用命令初始化项目后，我们的文件夹中会多出一个<code>tsconfig.json</code>文件，这个就是<code>TypeScript</code>项目的配置文件。我们知道给他人提供代码的时候需要我们将<code>ts</code>文件转成<code>js</code>文件，这个编译过程需要使用命令：</p> <div class="language-sh extra-class"><pre class="language-sh"><code>tsc demo.ts
</code></pre></div><p>如果我们<code>tsc</code>后面指定了具体文件其实是不会走我们项目中的<code>tsconfig.json</code>文件的，反之，直接使用<code>tsc</code>，后面不跟任何内容是会走配置文件的，它会默认将根目录下的所有内容进行编译生成对应的<code>js</code>文件。那，如果我们想指定编译文件，而不想全部编译，我们可以在<code>tsconfig.json</code>文件内做一些修改：</p> <div class="language-json extra-class"><pre class="language-json"><code><span class="token punctuation">{</span>
  <span class="token property">&quot;file&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">&quot;demo.ts&quot;</span><span class="token punctuation">]</span>
<span class="token punctuation">}</span>
</code></pre></div><p>或者你也可以使用<code>exclude</code>和<code>include</code>来实现同样的功能：</p> <div class="language-json extra-class"><pre class="language-json"><code><span class="token punctuation">{</span>
  <span class="token property">&quot;include&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">&quot;./demo.ts&quot;</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token property">&quot;exclude&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">&quot;./demo1.ts&quot;</span><span class="token punctuation">]</span>
<span class="token punctuation">}</span>
</code></pre></div><p>当然也可以接收正则表达式来匹配文件，接着我们来看下配置文件中的<code>compilerOptions</code>配置项，我们列举几个常用的配置项来讲解：</p> <div class="custom-block warning"><p class="custom-block-title">注意</p> <p><code>ts-node</code>底层其实会走配置文件的。</p></div> <div class="language-json extra-class"><pre class="language-json"><code><span class="token comment">/* 编译配置项 */</span>
<span class="token property">&quot;compilerOptions&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
   <span class="token property">&quot;allowJs&quot;</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>                       <span class="token comment">/* 是否编译js文件 */</span>
   <span class="token property">&quot;checkJs&quot;</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>                       <span class="token comment">/* 是否检测js语法问题 */</span>
   <span class="token property">&quot;sourceMap&quot;</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>                     <span class="token comment">/* 是否生成sourceMap文件 */</span>
   <span class="token property">&quot;outDir&quot;</span><span class="token operator">:</span> <span class="token string">&quot;./build&quot;</span><span class="token punctuation">,</span>                        <span class="token comment">/* 编译后文件的存放位置 */</span>
   <span class="token property">&quot;rootDir&quot;</span><span class="token operator">:</span> <span class="token string">&quot;./&quot;</span><span class="token punctuation">,</span>                       <span class="token comment">/* 需要编译的文件目录 */</span>
   <span class="token property">&quot;removeComments&quot;</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>                <span class="token comment">/* 编译后去除注释 */</span>
   <span class="token property">&quot;strict&quot;</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>                           <span class="token comment">/* 启用所有严格类型检查选项 */</span>
   <span class="token property">&quot;noImplicitAny&quot;</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>                 <span class="token comment">/* 不能隐式定义any，必须显式得定义 */</span>
   <span class="token property">&quot;strictNullChecks&quot;</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>              <span class="token comment">/* 对null值的严格检验 */</span>
   <span class="token property">&quot;strictFunctionTypes&quot;</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>           <span class="token comment">/* 方法参数必须定义类型 */</span>
   <span class="token comment">/* Additional Checks */</span>
   <span class="token property">&quot;noUnusedLocals&quot;</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>                <span class="token comment">/* 对多余代码的一个检测，比如声明了一个变量没有地方使用 */</span>
   <span class="token property">&quot;noUnusedParameters&quot;</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>            <span class="token comment">/* 与上雷同，此配置针对方法的参数 */</span>
<span class="token punctuation">}</span>
</code></pre></div><h2 id="联合类型和类型保护"><a href="#联合类型和类型保护" class="header-anchor">#</a> 联合类型和类型保护</h2> <p>首先我们来说下什么是联合类型，我们声明两个接口：</p> <div class="language-ts extra-class"><pre class="language-ts"><code><span class="token keyword">interface</span> <span class="token class-name">Bird</span> <span class="token punctuation">{</span>
  fly<span class="token operator">:</span> <span class="token builtin">boolean</span><span class="token punctuation">;</span>
  <span class="token function-variable function">sing</span><span class="token operator">:</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token keyword">interface</span> <span class="token class-name">Dog</span> <span class="token punctuation">{</span>
  fly<span class="token operator">:</span> <span class="token builtin">boolean</span><span class="token punctuation">;</span>
  <span class="token function-variable function">bark</span><span class="token operator">:</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token keyword">function</span> <span class="token function">trainAnimal</span><span class="token punctuation">(</span><span class="token parameter">animal<span class="token operator">:</span> Bird <span class="token operator">|</span> Dog</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  animal<span class="token punctuation">.</span><span class="token function">sing</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div><p>这个时候我们在调用<code>animal</code>参数时，<code>ts</code>只会给我们提示<code>fly</code>属性，而不会提示其他的方法，这就是联合类型，只会提示共有的属性和方法，当我们调用<code>animal</code>参数的<code>sing</code>方法的时候，<code>ts</code>会发出警告，因为如果我们<code>Dog</code>类型的话其实是没有<code>sing</code>方法的，我们如何来规避这种警告呢，我们需要使用类型保护，类型保护的方式有很多种，我们来简单介绍几个：</p> <h3 id="断言"><a href="#断言" class="header-anchor">#</a> 断言</h3> <div class="language-ts extra-class"><pre class="language-ts"><code><span class="token keyword">interface</span> <span class="token class-name">Bird</span> <span class="token punctuation">{</span>
  fly<span class="token operator">:</span> <span class="token builtin">boolean</span><span class="token punctuation">;</span>
  <span class="token function-variable function">sing</span><span class="token operator">:</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token keyword">interface</span> <span class="token class-name">Dog</span> <span class="token punctuation">{</span>
  fly<span class="token operator">:</span> <span class="token builtin">boolean</span><span class="token punctuation">;</span>
  <span class="token function-variable function">bark</span><span class="token operator">:</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token keyword">function</span> <span class="token function">trainAnimal</span><span class="token punctuation">(</span><span class="token parameter">animal<span class="token operator">:</span> Bird <span class="token operator">|</span> Dog</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span>animal<span class="token punctuation">.</span>fly<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token punctuation">(</span>animal <span class="token keyword">as</span> Bird<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">sing</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
    <span class="token punctuation">(</span>animal <span class="token keyword">as</span> Dog<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">bark</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><h3 id="in"><a href="#in" class="header-anchor">#</a> in</h3> <div class="language-ts extra-class"><pre class="language-ts"><code><span class="token keyword">function</span> <span class="token function">trainAnimal</span><span class="token punctuation">(</span><span class="token parameter">animal<span class="token operator">:</span> Bird <span class="token operator">|</span> Dog</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token string">&quot;sing&quot;</span> <span class="token keyword">in</span> animal<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    animal<span class="token punctuation">.</span><span class="token function">sing</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
    animal<span class="token punctuation">.</span><span class="token function">bark</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><h3 id="typeof"><a href="#typeof" class="header-anchor">#</a> typeof</h3> <div class="language-ts extra-class"><pre class="language-ts"><code><span class="token keyword">function</span> <span class="token function">add</span><span class="token punctuation">(</span><span class="token parameter">first<span class="token operator">:</span> <span class="token builtin">string</span> <span class="token operator">|</span> Number<span class="token punctuation">,</span> second<span class="token operator">:</span> <span class="token builtin">string</span> <span class="token operator">|</span> Number</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token keyword">typeof</span> first <span class="token operator">===</span> <span class="token string">&quot;string&quot;</span> <span class="token operator">||</span> <span class="token keyword">typeof</span> second <span class="token operator">===</span> <span class="token string">&quot;string&quot;</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>first<span class="token interpolation-punctuation punctuation">}</span></span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>second<span class="token interpolation-punctuation punctuation">}</span></span><span class="token template-punctuation string">`</span></span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  <span class="token keyword">return</span> first <span class="token operator">+</span> second<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div><h3 id="instanceof"><a href="#instanceof" class="header-anchor">#</a> instanceof</h3> <div class="language-ts extra-class"><pre class="language-ts"><code><span class="token keyword">class</span> <span class="token class-name">Number</span> <span class="token punctuation">{</span>
  count<span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token keyword">function</span> <span class="token function">add</span><span class="token punctuation">(</span><span class="token parameter">first<span class="token operator">:</span> object <span class="token operator">|</span> Number<span class="token punctuation">,</span> second<span class="token operator">:</span> object <span class="token operator">|</span> Number</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span>first <span class="token keyword">instanceof</span> <span class="token class-name">Number</span> <span class="token operator">&amp;&amp;</span> second <span class="token keyword">instanceof</span> <span class="token class-name">Number</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> first<span class="token punctuation">.</span>count <span class="token operator">+</span> second<span class="token punctuation">.</span>count<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  <span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div><div class="custom-block warning"><p class="custom-block-title">注意</p> <p>此处要使用<code>class</code>类的形式，因为<code>interface</code>不具备<code>instanceof</code>方法</p></div> <h2 id="enum-枚举类型"><a href="#enum-枚举类型" class="header-anchor">#</a> Enum 枚举类型</h2> <p>我们在开发实际过程当中都会有这种情况：</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">const</span> Status <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token constant">OFFLINE</span><span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span>
  <span class="token constant">ONLINE</span><span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span>
  <span class="token constant">DELETED</span><span class="token operator">:</span> <span class="token number">2</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token keyword">function</span> <span class="token function">getResult</span><span class="token punctuation">(</span><span class="token parameter">status</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span>status <span class="token operator">===</span> Status<span class="token punctuation">.</span><span class="token constant">OFFLINE</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token string">&quot;offline&quot;</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span>status <span class="token operator">===</span> Status<span class="token punctuation">.</span><span class="token constant">ONLINE</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token string">&quot;online&quot;</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span>status <span class="token operator">===</span> Status<span class="token punctuation">.</span><span class="token constant">DELETED</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token string">&quot;deleted&quot;</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  <span class="token keyword">return</span> <span class="token string">&quot;error&quot;</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token keyword">const</span> result <span class="token operator">=</span> <span class="token function">getResult</span><span class="token punctuation">(</span>Status<span class="token punctuation">.</span><span class="token constant">OFFLINE</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p>我们可以使用<code>ts</code>来更优雅的实现：</p> <div class="language-ts extra-class"><pre class="language-ts"><code><span class="token keyword">enum</span> Status <span class="token punctuation">{</span>
  <span class="token constant">OFFLINE</span><span class="token punctuation">,</span>
  <span class="token constant">ONLINE</span><span class="token punctuation">,</span>
  <span class="token constant">DELETED</span>
<span class="token punctuation">}</span>
<span class="token keyword">function</span> <span class="token function">getResult</span><span class="token punctuation">(</span><span class="token parameter">status</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span>status <span class="token operator">===</span> Status<span class="token punctuation">.</span><span class="token constant">OFFLINE</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token string">&quot;offline&quot;</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span>status <span class="token operator">===</span> Status<span class="token punctuation">.</span><span class="token constant">ONLINE</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token string">&quot;online&quot;</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span>status <span class="token operator">===</span> Status<span class="token punctuation">.</span><span class="token constant">DELETED</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token string">&quot;deleted&quot;</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  <span class="token keyword">return</span> <span class="token string">&quot;error&quot;</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token keyword">const</span> result <span class="token operator">=</span> <span class="token function">getResult</span><span class="token punctuation">(</span>Status<span class="token punctuation">.</span><span class="token constant">OFFLINE</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p>这样也可以实现上面用<code>js</code>实现的效果，这是因为，<code>ts</code>中的<code>enum</code>枚举类型，默认会给第一项定义为<code>0</code>，依次递增，如果我们想更改默认值，我们可以这样来修改：</p> <div class="language-ts extra-class"><pre class="language-ts"><code><span class="token keyword">enum</span> Status <span class="token punctuation">{</span>
  <span class="token constant">OFFLINE</span> <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">,</span>
  <span class="token constant">ONLINE</span><span class="token punctuation">,</span>
  <span class="token constant">DELETED</span>
<span class="token punctuation">}</span>
</code></pre></div><p>这样的话，分别代表的就是<code>1</code>、<code>2</code>、<code>3</code>，如果我们将<code>ONLINE</code>的值修改为<code>4</code>，那么<code>DELETED</code>的值将为<code>5</code>。我们不仅可以正向查询还可以反向查询：</p> <div class="language-ts extra-class"><pre class="language-ts"><code>Status<span class="token punctuation">.</span><span class="token constant">OFFLINE</span> <span class="token operator">===</span> Status<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
</code></pre></div><h2 id="函数泛型"><a href="#函数泛型" class="header-anchor">#</a> 函数泛型</h2> <p> 泛型，泛指的类型（<code>generic</code>），泛型的使用场景：我们不确定方法定义的时候参数的类型，当我们使用函数的时候我们参数的类型，这个时候我们可以在函数参数中使用泛型，我们在函数当中使用泛型的时候，需要在函数名的后面使用尖括号的形式定义下泛型，通常我们使用<code>T</code>也就是<code>type</code>的缩写，不仅可以定义一个泛型还可以定义多个泛型，使用逗号隔开即可，我们先来看一个在函数中使用泛型的一个例子：</p> <div class="language-ts extra-class"><pre class="language-ts"><code><span class="token keyword">function</span> join<span class="token operator">&lt;</span><span class="token constant">T</span><span class="token punctuation">,</span> <span class="token constant">P</span><span class="token operator">&gt;</span><span class="token punctuation">(</span>first<span class="token operator">:</span> <span class="token constant">T</span><span class="token punctuation">,</span> second<span class="token operator">:</span> <span class="token constant">P</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>first<span class="token interpolation-punctuation punctuation">}</span></span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>second<span class="token interpolation-punctuation punctuation">}</span></span><span class="token template-punctuation string">`</span></span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token keyword">const</span> result <span class="token operator">=</span> join<span class="token operator">&lt;</span><span class="token builtin">string</span><span class="token punctuation">,</span> <span class="token builtin">string</span><span class="token operator">&gt;</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token string">&quot;1&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p>泛型不仅可以在函数的参数中使用，还可以作为函数的返回结果使用：</p> <div class="language-ts extra-class"><pre class="language-ts"><code><span class="token keyword">function</span> join<span class="token operator">&lt;</span><span class="token constant">T</span><span class="token punctuation">,</span> <span class="token constant">P</span><span class="token operator">&gt;</span><span class="token punctuation">(</span>first<span class="token operator">:</span> <span class="token constant">T</span><span class="token punctuation">,</span> second<span class="token operator">:</span> <span class="token constant">P</span><span class="token punctuation">)</span><span class="token operator">:</span> <span class="token constant">T</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>
</code></pre></div><p>数组中使用泛型，以下两种情况是等价的：</p> <div class="language-ts extra-class"><pre class="language-ts"><code><span class="token keyword">function</span> join<span class="token operator">&lt;</span><span class="token constant">T</span><span class="token operator">&gt;</span><span class="token punctuation">(</span>first<span class="token operator">:</span> <span class="token constant">T</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> first<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token comment">// or</span>
<span class="token keyword">function</span> join<span class="token operator">&lt;</span><span class="token constant">T</span><span class="token operator">&gt;</span><span class="token punctuation">(</span>first<span class="token operator">:</span> Arrary<span class="token operator">&lt;</span><span class="token constant">T</span><span class="token operator">&gt;</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> first<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token keyword">const</span> result <span class="token operator">=</span> join<span class="token operator">&lt;</span><span class="token builtin">string</span><span class="token operator">&gt;</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token string">&quot;123&quot;</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><div class="custom-block warning"><p class="custom-block-title">注意</p> <p>如果在调用函数的时候没有写前面的具体类型，它也不会报错，这是因为<code>ts</code>底层会做类型推断</p></div> <h2 id="类中的泛型以及泛型类型"><a href="#类中的泛型以及泛型类型" class="header-anchor">#</a> 类中的泛型以及泛型类型</h2> <p>  假设我们有一个类，类中接收一个<code>data</code>的数组作为参数，数组的每一项我们暂且定为<code>string</code>类型，我们这是可以写成<code>constructor (private data: string[]) {}</code>，那以后需求变更，数组内容不仅可以是<code>string</code>类型还可以是<code>number</code>类型，这时我们就需要修改为<code>constructor (private data: string[] | number[]) {}</code>，那以后我们可能支持更多类型的值，这时我们就需要写更长的联合类型，从而使我们的代码看起来非常的繁琐，为了解决这个问题我们可以使用类中的泛型，其实它不仅仅解决这种问题，在<code>TypeScript</code>中编写复杂代码很多时候我们需要使用泛型来解决灵活性上的问题。<br>
  接着我们来看下类中泛型的定义：</p> <div class="language-ts extra-class"><pre class="language-ts"><code><span class="token keyword">class</span> <span class="token class-name">DataManager</span><span class="token operator">&lt;</span><span class="token constant">T</span><span class="token operator">&gt;</span> <span class="token punctuation">{</span>
  <span class="token keyword">constructor</span><span class="token punctuation">(</span><span class="token parameter"><span class="token keyword">private</span> data<span class="token operator">:</span> <span class="token constant">T</span><span class="token punctuation">[</span><span class="token punctuation">]</span></span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>
  <span class="token function">getName</span><span class="token punctuation">(</span>index<span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">)</span><span class="token operator">:</span> <span class="token constant">T</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">.</span>data<span class="token punctuation">[</span>index<span class="token punctuation">]</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token keyword">const</span> data <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">DataManager</span><span class="token operator">&lt;</span><span class="token builtin">string</span><span class="token punctuation">,</span> <span class="token builtin">number</span><span class="token operator">&gt;</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token string">&quot;1&quot;</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p>  类中定义泛型，需要在类名后加一对尖括号，内容为<code>T</code>，我们来解释下这段代码的意思：这个类中的构造函数接收一个<code>data</code>的参数，每一项内容我们定义为泛型<code>T</code>，接下来有一个<code>getName</code>的方法来获取指定数组中的每一项，参数<code>index</code>自然是一个<code>number</code>类型，返回结果我们暂时不确定，但是肯定是泛型<code>T</code>，所以我们就将<code>getName</code>的返回结果定义为<code>T</code>，这样就解决了我们上面复杂的联合类型的问题。<br>
  接下来我们再更改下需求，我现在想让<code>data</code>这个数组中的每一项都有一个<code>name</code>属性，那我们应该来怎么约束泛型呢，我们可以定义一个<code>interface</code>接口，接下来我们通过代码来实现下：</p> <div class="language-ts extra-class"><pre class="language-ts"><code><span class="token keyword">interface</span> <span class="token class-name">Item</span> <span class="token punctuation">{</span>
  name<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token keyword">class</span> <span class="token class-name">DataManager</span><span class="token operator">&lt;</span><span class="token constant">T</span> <span class="token keyword">extends</span> <span class="token class-name">Item</span><span class="token operator">&gt;</span> <span class="token punctuation">{</span>
  <span class="token keyword">constructor</span><span class="token punctuation">(</span><span class="token parameter"><span class="token keyword">private</span> data<span class="token operator">:</span> <span class="token constant">T</span><span class="token punctuation">[</span><span class="token punctuation">]</span></span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>
  <span class="token function">getName</span><span class="token punctuation">(</span>index<span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">)</span><span class="token operator">:</span> <span class="token builtin">string</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">.</span>data<span class="token punctuation">[</span>index<span class="token punctuation">]</span><span class="token punctuation">.</span>name<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token keyword">const</span> data <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">DataManager</span><span class="token punctuation">(</span><span class="token punctuation">[</span>
  <span class="token punctuation">{</span>
    name<span class="token operator">:</span> <span class="token string">&quot;haochyk&quot;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p>  同样我们可以借助<code>extends</code>让泛型在具体类型的对应上面来做一些约束，比如我只想让泛型类型为<code>number</code>或者<code>string</code>，我们可以使用<code>extends</code>这样来写：</p> <div class="language-ts extra-class"><pre class="language-ts"><code><span class="token keyword">class</span> <span class="token class-name">DataManager</span><span class="token operator">&lt;</span><span class="token constant">T</span> <span class="token keyword">extends</span> <span class="token class-name">number</span> <span class="token operator">|</span> <span class="token builtin">string</span><span class="token operator">&gt;</span> <span class="token punctuation">{</span>
  <span class="token keyword">constructor</span><span class="token punctuation">(</span><span class="token parameter"><span class="token keyword">private</span> data<span class="token operator">:</span> <span class="token constant">T</span><span class="token punctuation">[</span><span class="token punctuation">]</span></span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>
  <span class="token function">getName</span><span class="token punctuation">(</span>index<span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">)</span><span class="token operator">:</span> <span class="token builtin">string</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">.</span>data<span class="token punctuation">[</span>index<span class="token punctuation">]</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token keyword">const</span> data <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">DataManager</span><span class="token operator">&lt;</span><span class="token builtin">string</span><span class="token operator">&gt;</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token string">&quot;1&quot;</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p>  泛型还可以作为<code>type</code>的声明，比如用泛型还可以声明些类型，那如何使用泛型作为一个具体的类型注解，看以下示例：</p> <div class="language-ts extra-class"><pre class="language-ts"><code><span class="token keyword">const</span> <span class="token function-variable function">hello</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token operator">&lt;</span><span class="token constant">T</span><span class="token operator">&gt;</span><span class="token punctuation">(</span><span class="token parameter">param</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
   <span class="token keyword">return</span> param
<span class="token punctuation">}</span>
<span class="token keyword">const</span> func<span class="token operator">:</span> <span class="token operator">&lt;</span><span class="token constant">T</span><span class="token operator">&gt;</span><span class="token punctuation">(</span><span class="token parameter">param<span class="token operator">:</span> <span class="token constant">T</span></span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token constant">T</span> <span class="token operator">=</span> hello
</code></pre></div><h2 id="命名空间（namespace）"><a href="#命名空间（namespace）" class="header-anchor">#</a> 命名空间（nameSpace）</h2> <p><code>namespace</code>的一个好处就是给我们一个类似模块化开发的方式让我们能尽少得去声明全局变量，或者说把一组相关的内容封装到一起去对外提供统一的暴露接口：
之前我们都是在<code>node</code>环境下运行代码，现在我们换成在浏览器下运行我们的代码，首先我们执行命令：<code>npm init -y</code>来初始化一个项目，接着我们再执行<code>tes -init</code>命令来初始化下<code>typescript</code>，现在我们再根目录下新建一个<code>src</code>目录，并新建一个叫做<code>page</code>的<code>js</code>文件，再在根目录下新建一个<code>index</code>的<code>html</code>文件，文件内容我们尽量从简，只是做一个简单的演示，接着我们来修改下<code>ts</code>的配置文件：将<code>rootDir</code>注释打开，内容修改为<code>./src</code>,并且将<code>outDir</code>注释也打开，内容修改为<code>./dist</code>，到这我们项目的基本框架就搭建起来了，然后我们在我们的<code>page.ts</code>文件中写一些东西，这里使用面向对象的写法来写：</p> <div class="language-ts extra-class"><pre class="language-ts"><code><span class="token keyword">class</span> <span class="token class-name">Header</span> <span class="token punctuation">{</span>
  <span class="token keyword">constructor</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">const</span> eleE <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">createElement</span><span class="token punctuation">(</span><span class="token string">&quot;div&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    eleE<span class="token punctuation">.</span>innerText <span class="token operator">=</span> <span class="token string">&quot;This is header&quot;</span><span class="token punctuation">;</span>
    document<span class="token punctuation">.</span>body<span class="token punctuation">.</span><span class="token function">appendChild</span><span class="token punctuation">(</span>eleE<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token keyword">class</span> <span class="token class-name">Content</span> <span class="token punctuation">{</span>
  <span class="token keyword">constructor</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">const</span> eleE <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">createElement</span><span class="token punctuation">(</span><span class="token string">&quot;div&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    eleE<span class="token punctuation">.</span>innerText <span class="token operator">=</span> <span class="token string">&quot;This is content&quot;</span><span class="token punctuation">;</span>
    document<span class="token punctuation">.</span>body<span class="token punctuation">.</span><span class="token function">appendChild</span><span class="token punctuation">(</span>eleE<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token keyword">class</span> <span class="token class-name">Footer</span> <span class="token punctuation">{</span>
  <span class="token keyword">constructor</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">const</span> eleE <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">createElement</span><span class="token punctuation">(</span><span class="token string">&quot;div&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    eleE<span class="token punctuation">.</span>innerText <span class="token operator">=</span> <span class="token string">&quot;This is footer&quot;</span><span class="token punctuation">;</span>
    document<span class="token punctuation">.</span>body<span class="token punctuation">.</span><span class="token function">appendChild</span><span class="token punctuation">(</span>eleE<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token keyword">class</span> <span class="token class-name">Page</span> <span class="token punctuation">{</span>
  <span class="token keyword">constructor</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">new</span> <span class="token class-name">Header</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">new</span> <span class="token class-name">Content</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">new</span> <span class="token class-name">Footer</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><p>  之后我们再我们的<code>index.html</code>中引入<code>./dist/page.js</code>文件，并且实例化下<code>page</code>类，从新打包编译下，这时候我们打开 i<code>ndex.html</code>页面就可以看到页面上已经有内容了，这里顺带提下，我们每次修改代码都需要重新执行<code>tsc</code>命令来打包编译<code>ts</code>文件，这里我们可以使用命令<code>tsc -w</code>来进行一个监听。回到浏览器的页面上的控制台我们来看，这个时候你会发现<code>Header</code>、<code>Content</code>、<code>Footer</code>、<code>Page</code>这些都是全局体变量，其实我们再项目开发的时候要尽量的去避免声明全局变量，这个时候我们可以使用<code>namespcae</code>来解决这个问题，回到我们的<code>page.ts</code>文件中我们来做下修改：</p> <div class="language-ts extra-class"><pre class="language-ts"><code><span class="token keyword">namespace</span> Home <span class="token punctuation">{</span>
  <span class="token keyword">class</span> <span class="token class-name">Header</span> <span class="token punctuation">{</span>
    <span class="token keyword">constructor</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">const</span> eleE <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">createElement</span><span class="token punctuation">(</span><span class="token string">&quot;div&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      eleE<span class="token punctuation">.</span>innerText <span class="token operator">=</span> <span class="token string">&quot;This is header&quot;</span><span class="token punctuation">;</span>
      document<span class="token punctuation">.</span>body<span class="token punctuation">.</span><span class="token function">appendChild</span><span class="token punctuation">(</span>eleE<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>

  <span class="token keyword">class</span> <span class="token class-name">Content</span> <span class="token punctuation">{</span>
    <span class="token keyword">constructor</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">const</span> eleE <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">createElement</span><span class="token punctuation">(</span><span class="token string">&quot;div&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      eleE<span class="token punctuation">.</span>innerText <span class="token operator">=</span> <span class="token string">&quot;This is content&quot;</span><span class="token punctuation">;</span>
      document<span class="token punctuation">.</span>body<span class="token punctuation">.</span><span class="token function">appendChild</span><span class="token punctuation">(</span>eleE<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>

  <span class="token keyword">class</span> <span class="token class-name">Footer</span> <span class="token punctuation">{</span>
    <span class="token keyword">constructor</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">const</span> eleE <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">createElement</span><span class="token punctuation">(</span><span class="token string">&quot;div&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      eleE<span class="token punctuation">.</span>innerText <span class="token operator">=</span> <span class="token string">&quot;This is footer&quot;</span><span class="token punctuation">;</span>
      document<span class="token punctuation">.</span>body<span class="token punctuation">.</span><span class="token function">appendChild</span><span class="token punctuation">(</span>eleE<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>

  <span class="token keyword">export</span> <span class="token keyword">class</span> <span class="token class-name">Page</span> <span class="token punctuation">{</span>
    <span class="token keyword">constructor</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">new</span> <span class="token class-name">Header</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token keyword">new</span> <span class="token class-name">Content</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token keyword">new</span> <span class="token class-name">Footer</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><p>到这就解决了全局变量的问题，全局变量只剩下了一个<code>Page</code>，这是符合我们预期的，这时我们还应该修改下我们的<code>index.html</code>文件，因为之前的调用方式是直接实例化<code>Page</code>类，现在有了命名空间，我们需要修改成<code>new Home.Page()</code>。</p> <div class="custom-block warning"><p class="custom-block-title">注意</p> <p>在<code>page.ts</code>文件中我们需要将使用的<code>page</code>类使用<code>export</code>导出</p></div> <div class="custom-block tip"><p class="custom-block-title">说明</p> <p>完整 demo 地址：<a href="https://github.com/SuperLuckyYU/Ts-namespace-demo" target="_black">https://github.com/SuperLuckyYU/Ts-namespace-demo</a></p></div> <p>  我们接着上面写的<code>demo</code>来说，现在我们再写一个命名空间，名字叫做<code>Components</code>，我们将之前之前写在<code>page.ts</code>中的具体方法实现抽离到<code>Components</code>命名空间中去，然后在<code>page.ts</code>中去使用，这时，我们新建一个<code>components.ts</code>文件：</p> <div class="language-ts extra-class"><pre class="language-ts"><code><span class="token comment">// components.ts</span>
<span class="token keyword">namespace</span> Components <span class="token punctuation">{</span>
  <span class="token keyword">export</span> <span class="token keyword">class</span> <span class="token class-name">Header</span> <span class="token punctuation">{</span>
    <span class="token keyword">constructor</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">const</span> eleE <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">createElement</span><span class="token punctuation">(</span><span class="token string">&quot;div&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      eleE<span class="token punctuation">.</span>innerText <span class="token operator">=</span> <span class="token string">&quot;This is header&quot;</span><span class="token punctuation">;</span>
      document<span class="token punctuation">.</span>body<span class="token punctuation">.</span><span class="token function">appendChild</span><span class="token punctuation">(</span>eleE<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>

  <span class="token keyword">export</span> <span class="token keyword">class</span> <span class="token class-name">Content</span> <span class="token punctuation">{</span>
    <span class="token keyword">constructor</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">const</span> eleE <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">createElement</span><span class="token punctuation">(</span><span class="token string">&quot;div&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      eleE<span class="token punctuation">.</span>innerText <span class="token operator">=</span> <span class="token string">&quot;This is content&quot;</span><span class="token punctuation">;</span>
      document<span class="token punctuation">.</span>body<span class="token punctuation">.</span><span class="token function">appendChild</span><span class="token punctuation">(</span>eleE<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>

  <span class="token keyword">export</span> <span class="token keyword">class</span> <span class="token class-name">Footer</span> <span class="token punctuation">{</span>
    <span class="token keyword">constructor</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">const</span> eleE <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">createElement</span><span class="token punctuation">(</span><span class="token string">&quot;div&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      eleE<span class="token punctuation">.</span>innerText <span class="token operator">=</span> <span class="token string">&quot;This is footer&quot;</span><span class="token punctuation">;</span>
      document<span class="token punctuation">.</span>body<span class="token punctuation">.</span><span class="token function">appendChild</span><span class="token punctuation">(</span>eleE<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token comment">// page.ts</span>
<span class="token keyword">namespace</span> Home <span class="token punctuation">{</span>
  <span class="token keyword">export</span> <span class="token keyword">class</span> <span class="token class-name">Page</span> <span class="token punctuation">{</span>
    <span class="token keyword">constructor</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">new</span> <span class="token class-name">Components<span class="token punctuation">.</span>Header</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token keyword">new</span> <span class="token class-name">Components<span class="token punctuation">.</span>Content</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token keyword">new</span> <span class="token class-name">Components<span class="token punctuation">.</span>Footer</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><p>  到现在为止代码是无法运行的，因为打包会生成两份 js 文件，分别为：<code>page.js</code>、<code>components.js</code>文件，需要我们再<code>index.html</code>文件中引入我们的<code>components.js</code>文件，我们也可以将所有的打包文件统一合并到一个<code>js</code>文件中去，我们修改下<code>ts</code>的配置文件：</p> <div class="language-json extra-class"><pre class="language-json"><code><span class="token property">&quot;module&quot;</span><span class="token operator">:</span> <span class="token string">&quot;amd&quot;</span><span class="token punctuation">,</span>
<span class="token property">&quot;outFile&quot;</span><span class="token operator">:</span> <span class="token string">&quot;./dist/page.js&quot;</span><span class="token punctuation">,</span>
</code></pre></div><p>  这时我们在<code>index.html</code>中只需要引入一个<code>js</code>文件即可。回过头来看我们的<code>page.ts</code>我们会发现命名空间之间的引入非常的不直观，我们可以声明下命名空间之间的依赖声明：</p> <div class="language-ts extra-class"><pre class="language-ts"><code><span class="token comment">///&lt;reference path='./components.ts' /&gt;</span>
<span class="token keyword">namespace</span> Home <span class="token punctuation">{</span>
  <span class="token keyword">export</span> <span class="token keyword">class</span> <span class="token class-name">Page</span> <span class="token punctuation">{</span>
    <span class="token keyword">constructor</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">new</span> <span class="token class-name">Components<span class="token punctuation">.</span>Header</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token keyword">new</span> <span class="token class-name">Components<span class="token punctuation">.</span>Content</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token keyword">new</span> <span class="token class-name">Components<span class="token punctuation">.</span>Footer</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><p>命名空间中还可以暴露<code>interface</code>语法：</p> <div class="language-ts extra-class"><pre class="language-ts"><code><span class="token comment">// components.ts</span>
<span class="token keyword">namespace</span> Components <span class="token punctuation">{</span>
   exports <span class="token keyword">interface</span> <span class="token class-name">User</span> <span class="token punctuation">{</span>
      name<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">;</span>
   <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token comment">// page.ts</span>
<span class="token keyword">namespace</span> Home <span class="token punctuation">{</span>
   <span class="token keyword">export</span> <span class="token keyword">class</span> <span class="token class-name">Page</span> <span class="token punctuation">{</span>
      user<span class="token operator">:</span> Components<span class="token punctuation">.</span>User <span class="token operator">=</span> <span class="token punctuation">{</span>
         name<span class="token operator">:</span> <span class="token string">'haochyk'</span>
      <span class="token punctuation">}</span>
      <span class="token keyword">constructor</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
         <span class="token keyword">new</span> <span class="token class-name">Components<span class="token punctuation">.</span>Header</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
         <span class="token keyword">new</span> <span class="token class-name">Components<span class="token punctuation">.</span>Content</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
         <span class="token keyword">new</span> <span class="token class-name">Components<span class="token punctuation">.</span>Footer</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
      <span class="token punctuation">}</span>
   <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><p>在命名空间中还可以使用子的命名空间：</p> <div class="language-ts extra-class"><pre class="language-ts"><code><span class="token comment">// components.ts</span>
<span class="token keyword">namespace</span> Components <span class="token punctuation">{</span>
   exports <span class="token keyword">namespace</span> SubComponents <span class="token punctuation">{</span>
      exports <span class="token keyword">class</span> <span class="token class-name">Test</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>
   <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><h2 id="import-对应的模块化-缺代码"><a href="#import-对应的模块化-缺代码" class="header-anchor">#</a> Import 对应的模块化-缺代码</h2> <p>我们可以通过<code>es6</code>的<code>import</code>和<code>export</code>语法在<code>TypeScript</code>中做模块化的组织：</p> <div class="language-ts extra-class"><pre class="language-ts"><code><span class="token comment">// page.ts</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> Header<span class="token punctuation">,</span> Content<span class="token punctuation">,</span> Footer <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&quot;./components.ts&quot;</span><span class="token punctuation">;</span>
<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token keyword">class</span> <span class="token class-name">Page</span> <span class="token punctuation">{</span>
  <span class="token keyword">constructor</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">new</span> <span class="token class-name">Header</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">new</span> <span class="token class-name">Content</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">new</span> <span class="token class-name">Footer</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token comment">// components.js</span>
<span class="token keyword">export</span> <span class="token keyword">class</span> <span class="token class-name">Header</span> <span class="token punctuation">{</span>
  <span class="token keyword">constructor</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">const</span> eleE <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">createElement</span><span class="token punctuation">(</span><span class="token string">&quot;div&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    eleE<span class="token punctuation">.</span>innerText <span class="token operator">=</span> <span class="token string">&quot;This is header&quot;</span><span class="token punctuation">;</span>
    document<span class="token punctuation">.</span>body<span class="token punctuation">.</span><span class="token function">appendChild</span><span class="token punctuation">(</span>eleE<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token keyword">export</span> <span class="token keyword">class</span> <span class="token class-name">Content</span> <span class="token punctuation">{</span>
  <span class="token keyword">constructor</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">const</span> eleE <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">createElement</span><span class="token punctuation">(</span><span class="token string">&quot;div&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    eleE<span class="token punctuation">.</span>innerText <span class="token operator">=</span> <span class="token string">&quot;This is content&quot;</span><span class="token punctuation">;</span>
    document<span class="token punctuation">.</span>body<span class="token punctuation">.</span><span class="token function">appendChild</span><span class="token punctuation">(</span>eleE<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token keyword">export</span> <span class="token keyword">class</span> <span class="token class-name">Footer</span> <span class="token punctuation">{</span>
  <span class="token keyword">constructor</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">const</span> eleE <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">createElement</span><span class="token punctuation">(</span><span class="token string">&quot;div&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    eleE<span class="token punctuation">.</span>innerText <span class="token operator">=</span> <span class="token string">&quot;This is footer&quot;</span><span class="token punctuation">;</span>
    document<span class="token punctuation">.</span>body<span class="token punctuation">.</span><span class="token function">appendChild</span><span class="token punctuation">(</span>eleE<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><p>  这时我们来看下打包后的<code>page.js</code>文件内容你会发现被打包成了<code>AMD</code>规范的模块化代码了，这个时候我们是没办法直接在浏览器上跑起来的，因为<code>AMD</code>这种规范的代码浏览器是没办法识别的，浏览器需要有解析的工具才能帮助我们识别<code>define</code>这种语法，之所以会变成<code>AMD</code>语法的代码是因为我们在<code>ts</code>的配置文件中将<code>module</code>修改为了<code>amd</code>，如果想让浏览器支持，需要我们在入口文件也就是<code>index.html</code>中引入<code>require.js</code>做兼容，然后对<code>index.html</code>做下修改：</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token function">require</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token string">&quot;page&quot;</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">page</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">new</span> <span class="token class-name">page<span class="token punctuation">.</span>default</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p>  现在我们可以看到现在的代码编译过后需要引入各种像<code>require</code>这种库相对来说比较麻烦，实际上在用<code>TypeScript</code>做前端代码编写的时候一般我们会在项目中引入<code>webpack</code>来帮助我们对代码做进一步的编译，这时我们就不需要引入<code>require</code>这些步骤了，<code>webpack</code>它可以做的更完善。</p> <h2 id="使用-parcel-打包-ts-代码"><a href="#使用-parcel-打包-ts-代码" class="header-anchor">#</a> 使用 Parcel 打包 TS 代码</h2> <p><code>Parcel</code>是和<code>Webpack</code>相类似的一个打包工具，但是它不需要做过多额外的配置，之前我们使用<code>import</code>的时候需要引入<code>require</code>这种方式是比较麻烦的，使用<code>parcel</code>则会变得非常简单，在我们的入口文件<code>index.html</code>中直接引入<code>ts</code>文件，然后安装<code>parcel</code>，执行命令：<code>npm install parcel@next -D</code>，接着我们再<code>package.json</code>中写一个<code>script</code>命令：<code>test: parcel ./src/index.html</code>，它会帮助你自动起一个服务器，打开服务器地址你就会发现，代码正常运行了，这是因为它将我们的<code>ts</code>文件进行了编译，编译成了浏览器可以执行的<code>js</code>文件</p> <h2 id="描述文件中的全局类型"><a href="#描述文件中的全局类型" class="header-anchor">#</a> 描述文件中的全局类型</h2> <p>  首先我们来说为什么要安装或者手写这种描述文件（类型定义文件），它是帮助我们的<code>ts</code>文件理解我们引入的 js 文件或者 js 库里面的内容的，因为这种<code>js</code>库里面没有<code>ts</code>里面要求的类型的概念，所以在<code>ts</code>文件里去引入<code>js</code>库的时候，<code>ts</code>不能理解库里的语法，所以我们需要<code>.d.ts</code>的类型定义文件帮助<code>ts</code>去理解。当然我们也可以书写这种类型定义文件。接下来就是我们的主题内容，如何在描述文件（<code>.d.ts</code>文件）中定义全局类型：<br>
这里我们以引入<code>JQuery</code>库为例来写的描述文件：</p> <div class="language-ts extra-class"><pre class="language-ts"><code><span class="token comment">// 全局变量 注意全局类型都要使用declare</span>
<span class="token keyword">declare</span> <span class="token keyword">var</span> <span class="token function-variable function">$</span><span class="token operator">:</span> <span class="token punctuation">(</span><span class="token function-variable function">param</span><span class="token operator">:</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token keyword">void</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token keyword">void</span><span class="token punctuation">;</span>
<span class="token comment">// 全局函数  函数重载</span>
<span class="token keyword">interface</span> <span class="token class-name">JQueryInstance</span> <span class="token punctuation">{</span>
  <span class="token function-variable function">html</span><span class="token operator">:</span> <span class="token punctuation">(</span><span class="token parameter">html<span class="token operator">:</span> <span class="token builtin">string</span></span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> JQueryInstance<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token keyword">declare</span> <span class="token keyword">function</span> <span class="token function">$</span><span class="token punctuation">(</span><span class="token function-variable function">readyFunc</span><span class="token operator">:</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token keyword">void</span><span class="token punctuation">)</span><span class="token operator">:</span> <span class="token keyword">void</span><span class="token punctuation">;</span>
<span class="token keyword">declare</span> <span class="token keyword">function</span> <span class="token function">$</span><span class="token punctuation">(</span><span class="token parameter">selector<span class="token operator">:</span> <span class="token builtin">string</span></span><span class="token punctuation">)</span><span class="token operator">:</span> JQueryInstance<span class="token punctuation">;</span>
<span class="token comment">// 如何对对象进行类型定义，以及对类进行类型定义，以及命名空间的嵌套</span>
<span class="token keyword">namespace</span> $ <span class="token punctuation">{</span>
  <span class="token keyword">namespace</span> fn <span class="token punctuation">{</span>
    <span class="token keyword">class</span> <span class="token class-name">init</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token comment">// 使用interface的方式实现了函数重载，如何$既是函数又是对象的话，这种方式就不太好写了，只能使用上面那种方式</span>
<span class="token keyword">interface</span> <span class="token class-name">JQueryInstance</span> <span class="token punctuation">{</span>
  <span class="token punctuation">(</span><span class="token function-variable function">readyFunc</span><span class="token operator">:</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token keyword">void</span><span class="token punctuation">)</span><span class="token operator">:</span> <span class="token keyword">void</span><span class="token punctuation">;</span>
  <span class="token punctuation">(</span>selector<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">)</span><span class="token operator">:</span> JQueryInstance<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token keyword">declare</span> <span class="token keyword">var</span> $<span class="token operator">:</span> JQueryInstance<span class="token punctuation">;</span>
</code></pre></div><div class="custom-block warning"><p class="custom-block-title">注意</p> <p>定义函数的时候有一个函数重载的机制，同一个函数的名字可以去定义多个这样的全局函数，它会根据你参数的不同理解不同。</p></div> <h2 id="模块代码的类型描述文件"><a href="#模块代码的类型描述文件" class="header-anchor">#</a> 模块代码的类型描述文件</h2> <p>  我们以 es6 为例来介绍下载.d.ts 文件中声明些模块化：</p> <div class="language-ts extra-class"><pre class="language-ts"><code><span class="token keyword">declare</span> <span class="token keyword">module</span> <span class="token string">&quot;JQuery&quot;</span> <span class="token punctuation">{</span>
  <span class="token keyword">interface</span> <span class="token class-name">JQueryInstance</span> <span class="token punctuation">{</span>
    <span class="token function-variable function">html</span><span class="token operator">:</span> <span class="token punctuation">(</span><span class="token parameter">html<span class="token operator">:</span> <span class="token builtin">string</span></span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> JQueryInstance<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  <span class="token keyword">function</span> <span class="token function">$</span><span class="token punctuation">(</span><span class="token function-variable function">readyFunc</span><span class="token operator">:</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token keyword">void</span><span class="token punctuation">)</span><span class="token operator">:</span> <span class="token keyword">void</span><span class="token punctuation">;</span>
  <span class="token keyword">function</span> <span class="token function">$</span><span class="token punctuation">(</span><span class="token parameter">selector<span class="token operator">:</span> <span class="token builtin">string</span></span><span class="token punctuation">)</span><span class="token operator">:</span> JQueryInstance<span class="token punctuation">;</span>
  <span class="token keyword">namespace</span> $ <span class="token punctuation">{</span>
    <span class="token keyword">namespace</span> fn <span class="token punctuation">{</span>
      <span class="token keyword">class</span> <span class="token class-name">init</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
  <span class="token keyword">export</span> <span class="token operator">=</span> $<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div><div class="custom-block warning"><p class="custom-block-title">注意</p> <p>一、定义模块的时候，模块后面的名称要与<code>ts</code>文件中引入的名称保持一致。<br>
二、而且里面我们就不再需要写<code>declare</code>关键字了。<br>
三、一定要将外部要使用的东西使用<code>export</code>导出出去。</p></div> <h2 id="泛型中使用-keyof-语法的使用"><a href="#泛型中使用-keyof-语法的使用" class="header-anchor">#</a> 泛型中使用 keyof 语法的使用</h2> <p>  当我们去定义一个类型的时候，除了可以让它是一个基本类型如：<code>string</code>、<code>number</code>，也可以是<code>interface</code>或者是对象的这种复杂类型，实际上现在我们甚至可以让它是一个固定的字符串，正因为类型可以是一个固定字符串的原理帮助，我们才可以使用<code>keyof</code>的语法，<code>keyof</code>顾名思义是去循环遍历接口内容，然后让泛型成为接口中某一项的具体字符串。在未来如果你有一个类里有一个对象，然后你想根据<code>index</code>或者<code>key</code>值去获取对象中某一项内容又想去推断出内容的类型的时候你可以使用<code>T extends keyof Person</code>这种复杂语法解决这个问题。<br>
我们来看一个应用场景的例子：</p> <div class="language-ts extra-class"><pre class="language-ts"><code><span class="token keyword">interface</span> <span class="token class-name">Person</span> <span class="token punctuation">{</span>
  name<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">;</span>
  age<span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">;</span>
  gerder<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token keyword">class</span> <span class="token class-name">Teacher</span> <span class="token punctuation">{</span>
  <span class="token function">construct</span><span class="token punctuation">(</span><span class="token parameter"><span class="token keyword">private</span> info<span class="token operator">:</span> Person</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>
  getInfo<span class="token operator">&lt;</span><span class="token constant">T</span> <span class="token keyword">extends</span> <span class="token class-name">keyof</span> Person<span class="token operator">&gt;</span><span class="token punctuation">(</span>key<span class="token operator">:</span> <span class="token constant">T</span><span class="token punctuation">)</span><span class="token operator">:</span> Person<span class="token punctuation">[</span><span class="token constant">T</span><span class="token punctuation">]</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">.</span>info<span class="token punctuation">[</span>key<span class="token punctuation">]</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token keyword">const</span> teacher <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Teacher</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  name<span class="token operator">:</span> <span class="token string">&quot;haochyk&quot;</span><span class="token punctuation">,</span>
  age<span class="token operator">:</span> <span class="token number">18</span><span class="token punctuation">,</span>
  gerder<span class="token operator">:</span> <span class="token string">&quot;male&quot;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> info <span class="token operator">=</span> teacher<span class="token punctuation">.</span><span class="token function">getInfo</span><span class="token punctuation">(</span><span class="token string">&quot;name&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>info<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><h2 id="类的装饰器"><a href="#类的装饰器" class="header-anchor">#</a> 类的装饰器</h2> <p>  实际上就是对类的修饰工具，装饰器本身是一个函数，装饰器通过<code>@</code>符号来使用，装饰器的运行时刻是在类被创建的时候就会被调用，而不是类被实例化的时候再执行，装饰器接收的参数是构造函数，一个类可以使用多个装饰器，注意一个类绑定多个装饰器的时候，执行顺序是从下到上，也就是后绑定的装饰器先执行。当你使用<code>Decorator</code>装饰器修饰类的时候，<code>TS</code>可能会报错提示说：<code>Decorator</code>这种新的装饰器语法实际上在<code>TS</code>里面它是一个实验性质的语法，所以我们要想使用它，我们需要打开<code>tsconfig.json</code>中的对实验类型的支持注释打开：</p> <div class="language-json extra-class"><pre class="language-json"><code><span class="token comment">/* Experimental Options */</span>
<span class="token property">&quot;experimentalDecorators&quot;</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>        <span class="token comment">/* Enables experimental support for ES7 decorators. */</span>
<span class="token property">&quot;emitDecoratorMetadata&quot;</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>         <span class="token comment">/* Enables experimental support for emitting type metadata for decorators. */</span>
</code></pre></div><p>  我们先来看一个最简单的类的装饰器 demo：</p> <div class="language-ts extra-class"><pre class="language-ts"><code><span class="token keyword">function</span> <span class="token function">testDecorator</span><span class="token punctuation">(</span><span class="token parameter"><span class="token keyword">constructor</span><span class="token operator">:</span> <span class="token builtin">any</span></span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">constructor</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span><span class="token function-variable function">getName</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    <span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&quot;decorator&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

@testDecorator
<span class="token keyword">class</span> <span class="token class-name">Test</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>
<span class="token keyword">const</span> test <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Test</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token punctuation">(</span>test <span class="token keyword">as</span> <span class="token builtin">any</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">getName</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p>  在某种情况下，我需要装饰器来装饰，但是有的时候我这个类不需要装饰器来装饰，也就是说有一些判断在里面，这个时候可以使用工厂模式</p> <div class="language-ts extra-class"><pre class="language-ts"><code><span class="token keyword">function</span> <span class="token function">testDecorator</span><span class="token punctuation">(</span><span class="token parameter">flag<span class="token operator">:</span> <span class="token builtin">boolean</span></span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span>flag<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter"><span class="token keyword">constructor</span><span class="token operator">:</span> <span class="token builtin">any</span></span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">constructor</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span><span class="token function-variable function">getName</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
        <span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&quot;decorator&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token punctuation">}</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter"><span class="token keyword">constructor</span><span class="token operator">:</span> <span class="token builtin">any</span></span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

@<span class="token function">testDecorator</span><span class="token punctuation">(</span><span class="token boolean">true</span><span class="token punctuation">)</span>
<span class="token keyword">class</span> <span class="token class-name">Test</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>
<span class="token keyword">const</span> test <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Test</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token punctuation">(</span>test <span class="token keyword">as</span> <span class="token builtin">any</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">getName</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p>  上述例子是一个容易理解，但是不太正规的一种写法，接下我们来写一些比较正规而且稍微复杂一点的实例：</p> <div class="language-ts extra-class"><pre class="language-ts"><code><span class="token keyword">function</span> testDecorator<span class="token operator">&lt;</span><span class="token constant">T</span> <span class="token keyword">extends</span> <span class="token class-name">new</span> <span class="token punctuation">(</span><span class="token parameter"><span class="token operator">...</span>args<span class="token operator">:</span> <span class="token builtin">any</span><span class="token punctuation">[</span><span class="token punctuation">]</span></span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token builtin">any</span><span class="token operator">&gt;</span><span class="token punctuation">(</span><span class="token keyword">constructor</span><span class="token operator">:</span> <span class="token constant">T</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> <span class="token keyword">class</span> <span class="token class-name">extends</span> <span class="token keyword">constructor</span> <span class="token punctuation">{</span>
    name <span class="token operator">=</span> <span class="token string">&quot;haochyk&quot;</span><span class="token punctuation">;</span>
    <span class="token function">getName</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">.</span>name<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

@testDecorator
<span class="token keyword">class</span> <span class="token class-name">Test</span> <span class="token punctuation">{</span>
  <span class="token keyword">constructor</span><span class="token punctuation">(</span><span class="token parameter"><span class="token keyword">private</span> name<span class="token operator">:</span> <span class="token builtin">string</span></span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token keyword">const</span> test <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Test</span><span class="token punctuation">(</span><span class="token string">&quot;TT&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token punctuation">(</span>test <span class="token keyword">as</span> <span class="token builtin">any</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">getName</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// =&gt; 'haochyk'</span>
</code></pre></div><p>当我们在写代码的时候会发现，必须<code>test as any</code>才可以，否则会报错，这是因为<code>getName</code>方法是装饰器偷偷给扩展的，<code>TS</code>并不知道，所以会认为类中没有这个方法。要解决这个问题可以使用工厂模式，来看这个实例代码：</p> <div class="language-ts extra-class"><pre class="language-ts"><code><span class="token keyword">function</span> <span class="token function">testDecorator</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
   <span class="token keyword">function</span><span class="token operator">&lt;</span><span class="token constant">T</span> <span class="token keyword">extends</span> <span class="token class-name">new</span> <span class="token punctuation">(</span><span class="token parameter"><span class="token operator">...</span>args<span class="token operator">:</span> <span class="token builtin">any</span><span class="token punctuation">[</span><span class="token punctuation">]</span></span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token builtin">any</span><span class="token operator">&gt;</span> <span class="token punctuation">(</span><span class="token keyword">constructor</span><span class="token operator">:</span> <span class="token constant">T</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">return</span> <span class="token keyword">class</span> <span class="token class-name">extends</span> <span class="token keyword">constructor</span> <span class="token punctuation">{</span>
         name <span class="token operator">=</span> <span class="token string">'haochyk'</span>
         <span class="token function">getName</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">.</span>name
         <span class="token punctuation">}</span>
      <span class="token punctuation">}</span>
   <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token keyword">const</span> Test <span class="token operator">=</span> <span class="token function">testDecorator</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">(</span><span class="token keyword">class</span> <span class="token class-name">Test</span> <span class="token punctuation">{</span>
   <span class="token keyword">constructor</span> <span class="token punctuation">(</span><span class="token parameter"><span class="token keyword">private</span> name<span class="token operator">:</span> <span class="token builtin">string</span></span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token keyword">const</span> test <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Test</span><span class="token punctuation">(</span><span class="token string">'TT'</span><span class="token punctuation">)</span>
<span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>test<span class="token punctuation">.</span><span class="token function">getName</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token comment">// =&gt; 'haochyk'</span>
</code></pre></div><h2 id="方法装饰器"><a href="#方法装饰器" class="header-anchor">#</a> 方法装饰器</h2> <p>  装饰器不仅可以用在类上，还可以用在类中的属性、方法、访问器上，我们先来看下类中的方法装饰器，类中的方法装饰器接收三个参数，分别为 target、key、descriptor。
我们来分别说下这三个参数分别代表的含义：<br>
  target：目标类的 prototype<br>
  key：目标方法的名称<br>
  descriptor：属性描述符<br>
与静态方法不同的是，静态方法的装饰器 target 参数代表的是目标类的构造函数。
方式装饰器 Demo：</p> <div class="language-ts extra-class"><pre class="language-ts"><code><span class="token keyword">function</span> <span class="token function">getNameDecorator</span><span class="token punctuation">(</span>
  <span class="token parameter">target<span class="token operator">:</span> <span class="token builtin">any</span><span class="token punctuation">,</span>
  key<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">,</span>
  descriptor<span class="token operator">:</span> PropertyDescriptor</span>
<span class="token punctuation">)</span> <span class="token punctuation">{</span>
  descriptor<span class="token punctuation">.</span>writable <span class="token operator">=</span> <span class="token boolean">false</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">class</span> <span class="token class-name">Test</span> <span class="token punctuation">{</span>
  <span class="token keyword">constructor</span><span class="token punctuation">(</span><span class="token parameter"><span class="token keyword">private</span> name<span class="token operator">:</span> <span class="token builtin">string</span></span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>
  @getNameDecorator
  <span class="token function">getName</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">.</span>name<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token keyword">const</span> test <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Test</span><span class="token punctuation">(</span><span class="token string">&quot;haochyk&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>test<span class="token punctuation">.</span><span class="token function">getName</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><div class="custom-block danger"><p class="custom-block-title">注意</p> <p>访问器的装饰器跟方法的装饰器基本一样，但是注意，同一个装饰器不能同时装饰一个类的 get、set。</p></div> <h2 id="属性装饰装饰器"><a href="#属性装饰装饰器" class="header-anchor">#</a> 属性装饰装饰器</h2> <p>  属性装饰器与方法和访问器的装饰器接收参数的个数有所不同，它只能接受两个参数：<br>
  target：目标类的 prototype<br>
  key：目标属性的名称<br>
有两个点需要提及下，分别是：<br>
如果要修改属性的 descriptor，我们可以在装饰器中返回一个 descriptor：</p> <div class="language-ts extra-class"><pre class="language-ts"><code><span class="token keyword">function</span> <span class="token function">nameDecorator</span><span class="token punctuation">(</span><span class="token parameter">target<span class="token operator">:</span> <span class="token builtin">any</span><span class="token punctuation">,</span> key<span class="token operator">:</span> <span class="token builtin">string</span></span><span class="token punctuation">)</span><span class="token operator">:</span> <span class="token builtin">any</span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> descriptor<span class="token operator">:</span> PropertyDescriptor <span class="token operator">=</span> <span class="token punctuation">{</span>
    writable<span class="token operator">:</span> <span class="token boolean">false</span>
  <span class="token punctuation">}</span><span class="token punctuation">;</span>
  <span class="token keyword">return</span> descriptor<span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">class</span> <span class="token class-name">Test</span> <span class="token punctuation">{</span>
  @nameDecorator
  name <span class="token operator">=</span> <span class="token string">&quot;Haochyk&quot;</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token keyword">const</span> test <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Test</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
test<span class="token punctuation">.</span>name <span class="token operator">=</span> <span class="token string">&quot;hao&quot;</span><span class="token punctuation">;</span>
</code></pre></div><p>但是如果你要修改属性的值，是修改不了的，因为你在装饰器中对值得修改是在类的原型对象上属性的修改，而你在类中定义的属性是绑定在了类的实例上，在取值的时候优先找的是实例上的变量，如果没有才会找原型对象上的变量</p> <div class="language-ts extra-class"><pre class="language-ts"><code><span class="token keyword">function</span> <span class="token function">nameDecorator</span><span class="token punctuation">(</span><span class="token parameter">target<span class="token operator">:</span> <span class="token builtin">any</span><span class="token punctuation">,</span> key<span class="token operator">:</span> <span class="token builtin">string</span></span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  target<span class="token punctuation">[</span>key<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token string">&quot;hao&quot;</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">class</span> <span class="token class-name">Test</span> <span class="token punctuation">{</span>
  @nameDecorator
  name <span class="token operator">=</span> <span class="token string">&quot;Haochyk&quot;</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token keyword">const</span> test <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Test</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>test<span class="token punctuation">.</span>name<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// =&gt; 'Haochyk'</span>
</code></pre></div><h2 id="参数装饰器"><a href="#参数装饰器" class="header-anchor">#</a> 参数装饰器</h2> <p>  参数装饰器接受三个参数：<br>
  target：目标类的 prototype<br>
  key：所在方法的名称<br>
  paramsIndex：装饰的参数所在的下标<br></p> <div class="custom-block warning"><p class="custom-block-title">注意</p> <p>一、定义模块的时候，模块后面的名称要与<code>ts</code>文件中引入的名称保持一致。<br>
二、而且里面我们就不再需要写<code>declare</code>关键字了。<br>
三、一定要将外部要使用的东西使用<code>export</code>导出出去。</p></div> <h2 id="装饰器实际使用的小案例"><a href="#装饰器实际使用的小案例" class="header-anchor">#</a> 装饰器实际使用的小案例</h2> <div class="language-ts extra-class"><pre class="language-ts"><code><span class="token keyword">const</span> userInfo<span class="token operator">:</span> <span class="token builtin">any</span> <span class="token operator">=</span> <span class="token keyword">undefined</span>

<span class="token keyword">function</span> <span class="token function">catchError</span> <span class="token punctuation">(</span><span class="token parameter">msg<span class="token operator">:</span> <span class="token builtin">string</span></span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
   <span class="token keyword">return</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">target<span class="token operator">:</span> <span class="token builtin">any</span><span class="token punctuation">,</span> key<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">,</span> descriptor<span class="token operator">:</span> PropertyDescriptor</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">const</span> fn <span class="token operator">=</span> descriptor<span class="token punctuation">.</span>value
      <span class="token keyword">try</span> <span class="token punctuation">{</span>
         <span class="token function">fn</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
      <span class="token punctuation">}</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span>e<span class="token punctuation">)</span> <span class="token punctuation">{</span>
         <span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>msg <span class="token operator">+</span> <span class="token string">'存在问题'</span><span class="token punctuation">)</span>
      <span class="token punctuation">}</span>
   <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token keyword">class</span> <span class="token class-name">Test</span> <span class="token punctuation">{</span>
   @<span class="token function">catchError</span><span class="token punctuation">(</span><span class="token string">'userInfo.name'</span><span class="token punctuation">)</span>
   <span class="token function">getUserName</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>userInfo<span class="token punctuation">.</span>name<span class="token punctuation">)</span>
   <span class="token punctuation">}</span>
   <span class="token function">getUserAge</span> <span class="token punctuation">(</span><span class="token string">'userInfo.age'</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>userInfo<span class="token punctuation">.</span>age<span class="token punctuation">)</span>
   <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token keyword">const</span> test <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Test</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>test<span class="token punctuation">.</span><span class="token function">getUserName</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
<span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>test<span class="token punctuation">.</span><span class="token function">getUserAge</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
</code></pre></div><div class="custom-block tip"><p class="custom-block-title">说明</p> <p>reflect-metadata 库，可以帮助我们在类上面或者类的属性上面去存储一些数据，并且方便得进行数据的反射获取，具体使用请查看<a href="https://github.com/rbuckton/reflect-metadata" target="_blank" rel="noopener noreferrer">官方介绍<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></p></div> <div class="custom-block tip"><p class="custom-block-title">装饰器的执行顺序</p> <p>方法装饰器 -&gt; 类装饰器</p></div></div> <footer class="page-edit"><!----> <div class="last-updated"><span class="prefix">最近更新时间:</span> <span class="time">8/3/2020, 5:50:21 PM</span></div></footer> <!----> </main></div><div class="global-ui"><!----></div></div>
    <script src="/Java-JavaScript-Learn-Note/assets/js/app.e325ccab.js" defer></script><script src="/Java-JavaScript-Learn-Note/assets/js/2.917e6a38.js" defer></script><script src="/Java-JavaScript-Learn-Note/assets/js/13.86adced6.js" defer></script>
  </body>
</html>
